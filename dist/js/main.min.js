!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){b.exports={general:{language:"english",loader:{text:"Getting data..."},carousel:{visible:!0,animate:!0,time:1e4},search:{tags:{visible:!1},filters:{visible:!1},visible:!0},halfway_menu:{visible:!0},footer:{logo:"crop_ontology_white.png",background:"footer-background_399395-PCOQ5H-624.png",description:"A tool for Breeders and Agronomists to harmonize the capture of field data, ease fieldbook creation, and facilitate data modeling",visible:!0},license:{text:'Crop Ontology by Integrated Breeding Platform is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>'}},404:{title:"Page not found",carousel:{visible:!0,items:[{message:"",image:"cowpea.jpg"}]}},home:{carousel:{visible:!0,items:[{message:"",image:"cowpea.jpg"}]},sections:{help:{title:"Instructions to develop a new ontology",items_per_page:null,read_more_button:{visible:!1,label:""},visible:!0},news:{title:"Latest news",items_per_page:3,read_more_button:{visible:!0,label:"Read more..."},visible:!0},ontologies:{title:"Ontologies",items_per_page:10,read_more_button:{visible:!0,label:"All ontologies â€º"},visible:!0}}},latest:{title:"Latest Ontologies and Terms",visible:!0,carousel:{visible:!1,items:[{message:"",image:"cowpea.jpg"}]}},about:{title:"About the Project",visible:!0,carousel:{visible:!0,items:[{message:"",image:"Neil Palmer-CIAT - About the project.jpg"}]}},"privacy-policy":{title:"Privacy policy",visible:!0,carousel:{visible:!0,items:[{message:"",image:"Neil Palmer-CIAT - Privacy policies.jpg"}]}},API:{title:"API",visible:!0,carousel:{visible:!0,items:[{message:"",image:"Neil Palmer-CIAT - API"}]}},"contact-us":{title:"Contact us",visible:!0,carousel:{visible:!0,items:[{message:"",image:"Neil Palmer-CIAT - Contact us.jpg"}]}},feedback:{title:"Feedback",visible:!0,carousel:{visible:!0,items:[{message:"",image:"Neil Palmer-CIAT - Feedback..jpg"}]}},"add-ontology":{title:"Add new terms",visible:!0,carousel:{visible:!0,items:[{message:"",image:"credit_Bioversity International- Add anew term.jpg"}]}},ontology:{title:"",visible:!0,carousel:{visible:!1,items:[{message:"",image:""}]}},terms:{title:"",visible:!0,carousel:{visible:!1,items:[{message:"",image:""}]}},register:{title:"Register",visible:!0,carousel:{visible:!1,items:[{message:"",image:""}]}},"forgot-password":{title:"Forgot password",visible:!0,carousel:{visible:!1,items:[{message:"",image:""}]}},"annotation-tool":{title:"Annotation Tool",visible:!0,carousel:{visible:!1,items:[{message:"",image:""}]}}}},{}],2:[function(a,b,c){b.exports={default:"english",all:["english","french","spanish","chinese","portugese"],iso:{EN:"english",FR:"french",ES:"spanish",CN:"chinese",PT:"portugese"},getIso:{english:"EN",undefined:"EN",french:"FR",spanish:"ES",chinese:"CN",portugese:"PT"}}},{}],3:[function(a,b,c){b.exports={menu:{sidenav:{position:"right",items:[{label:"Home",link:"./",display:!0},{label:"About",link:"./about",display:!0},{label:"Add new terms",link:"./add-ontology",display:!0},{label:"API",link:"./api",display:!1},{label:"Agtrials",link:"./agtrials",display:!1},{label:"Annotation Tool",link:"./annotation-tool",display:!0},{separator:!0},{label:"Login",link:"#user_modal",class:"modal-trigger",display:!0},{label:"Register",link:"./register",display:!0}]},top_menu:{position:"right",class:"",items:[{label:"Home",link:"./",display:!0,is_sidenav_link:!1},{label:"About",link:"./about",display:!0,is_sidenav_link:!1},{label:"Add new terms",link:"./add-ontology",display:!0,is_sidenav_link:!1},{label:"API",link:"./api",display:!1,is_sidenav_link:!1},{label:"Agtrials",link:"./agtrials",display:!1,is_sidenav_link:!1},{label:"Annotation Tool",link:"./annotation-tool",display:!0,is_sidenav_link:!1},{separator:!0},{label:"Login",link:"#user_modal",class:"modal-trigger",display:!0,is_sidenav_link:!1},{separator:"or"},{label:"Register",link:"./register",display:!0,is_sidenav_link:!1},{link:"javascript:;",data:{activates:"sidenav"},class:"button-collapse black-text",display:!0,is_sidenav_link:!0}]},halfway_menu:{position:"center",class:"",items:[{label:"Contact us",link:"./contact-us",display:!0},{label:"API",link:"./API",display:!0},{label:"Feedback",link:"./feedback",display:!0}]},footer_menu:{items:[{title:"&nbsp;",position:"left_menu",class:"",items:[{label:"Home",link:"./",display:!0},{separator:""},{label:"About",link:"./about",display:!0},{label:"Blog",link:"./blog",display:!1},{label:"API",link:"./api",display:!1},{label:"Agtrials",link:"./agtrials",display:!1},{label:"Annotation Tool",link:"./annotation-tool",display:!0},{label:"All ontologies",link:"./all-ontologies",display:!1},{label:"Contact us",link:"./contact-us",display:!0},{label:"Feedback",link:"./feedback",display:!0},{label:"Privacy policy",link:"./privacy-policy",display:!0}]},{title:"Related sites",position:"center_menu",class:"",items:[{label:"Integrated Breeding Platform",link:"https://www.integratedbreeding.net",display:!0,target:"_blank"},{label:"Bioversity International",link:"http://www.bioversityinternational.org",display:!0,target:"_blank"},{label:"NSF (National Science Foundation) -  cROP: Common Reference Ontologies and Applications for Plant Biology",link:"https://www.nsf.gov/awardsearch/showAward?AWD_ID=1340112",display:!0,target:"_blank"},{label:"Planteome",link:"http://www.planteome.org",display:!0,target:"_blank"}]},{title:"Follow us",position:"right_menu",class:"horizontal",items:[{label:"Github",link:"https://github.com/bioversity/Crop-Ontology/",display:!0,target:"_blank",icon:"fab fa-github fa-2x"},{label:"Youtube",link:"https://www.youtube.com/channel/UC1HBPf5qzcR6YGaAh-3TzNg",display:!0,target:"_blank",icon:"fab fa-youtube fa-2x"},{label:"Crop Ontology Community Website",link:"https://sites.google.com/a/cgxchange.org/cropontologycommunity/",display:!0,target:"_blank",icon:"fas fa-newspaper fa-2x"}]}]},bottom_links:{items:[{title:"",position:"left",class:"",items:[{label:"Integrated Breeding Platform",link:"https://www.integratedbreeding.net",image:"ibp.png",display:!0,target:"_blank"},{label:"Bioversity International",link:"http://www.bioversityinternational.org",image:"bioversity_small.png",display:!0,target:"_blank"},{label:"NSF (National Science Foundation) -  cROP: Common Reference Ontologies and Applications for Plant Biology",link:"https://www.nsf.gov/awardsearch/showAward?AWD_ID=1340112",image:"nsf.jpg",display:!0,target:"_blank"},{label:"Planteome",link:"http://www.planteome.org",image:"planteome.png",display:!0,target:"_blank"}]},{title:"Bottom Heading",position:"right",class:"",items:[{label:"Platform for Big Data in Agricolture",link:"https://www.cgiar.org/research/program-platform/platform-for-big-data-in-agriculture/",image:"big-data_platform_logo.png",display:!0,target:"_blank"}]}]}}}},{}],4:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../src/es6/_actions.es6"),f=d(e),g=a("../../src/es6/layout.es6"),h=d(g),i=a("../../src/es6/_navigation.es6"),j=d(i);a("../../src/es6/_obj.es6");var k=new h.default,l=(new f.default,new j.default),m=l.get_page();a("../../common/settings/contents.json");$(document).ready(function(){k.build_header(),k.build_carousel(),k.build_searchbar(),"home"==m?(k.build_halfway_menu(),k.build_contents_section()):(k.build_contents_section(),k.build_halfway_menu()),k.build_footer(),k.load_scripts(),k.activate()})},{"../../common/settings/contents.json":1,"../../src/es6/_actions.es6":8,"../../src/es6/_navigation.es6":9,"../../src/es6/_obj.es6":10,"../../src/es6/layout.es6":16}],5:[function(a,b,c){(function(d,e){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.ES6Promise=d()}(this,function(){"use strict";function b(a){var b=typeof a;return null!==a&&("object"===b||"function"===b)}function c(a){return"function"==typeof a}function f(a){Q=a}function g(a){R=a}function h(){return void 0!==P?function(){P(j)}:i()}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;a<O;a+=2){(0,X[a])(X[a+1]),X[a]=void 0,X[a+1]=void 0}O=0}function k(a,b){var c=this,d=new this.constructor(m);void 0===d[Z]&&E(d);var e=c._state;if(e){var f=arguments[e-1];R(function(){return B(e,d,f,c._result)})}else y(c,d,a,b);return d}function l(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(a){return ba.error=a,ba}}function q(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function r(a,b,c){R(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===_?w(a,b._result):b._state===aa?x(a,b._result):y(b,void 0,function(b){return u(a,b)},function(b){return x(a,b)})}function t(a,b,d){b.constructor===a.constructor&&d===k&&b.constructor.resolve===l?s(a,b):d===ba?(x(a,ba.error),ba.error=null):void 0===d?w(a,b):c(d)?r(a,b,d):w(a,b)}function u(a,c){a===c?x(a,n()):b(c)?t(a,c,p(c)):w(a,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===$&&(a._result=b,a._state=_,0!==a._subscribers.length&&R(z,a))}function x(a,b){a._state===$&&(a._state=aa,a._result=b,R(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+_]=c,e[f+aa]=d,0===f&&a._state&&R(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?B(c,d,e,f):e(f);a._subscribers.length=0}}function A(a,b){try{return a(b)}catch(a){return ba.error=a,ba}}function B(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=A(d,e),g===ba?(j=!0,h=g.error,g.error=null):i=!0,b===g)return void x(b,o())}else g=e,i=!0;b._state!==$||(f&&i?u(b,g):j?x(b,h):a===_?w(b,g):a===aa&&x(b,g))}function C(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(b){x(a,b)}}function D(){return ca++}function E(a){a[Z]=ca++,a._state=void 0,a._result=void 0,a._subscribers=[]}function F(){return new Error("Array Methods must be provided an Array")}function G(a){return new da(this,a).promise}function H(a){var b=this;return new b(N(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function I(a){var b=this,c=new b(m);return x(c,a),c}function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var a=void 0;if(void 0!==e)a=e;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=ea}var M=void 0;M=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var N=M,O=0,P=void 0,Q=void 0,R=function(a,b){X[O]=a,X[O+1]=b,2===(O+=2)&&(Q?Q(j):Y())},S="undefined"!=typeof window?window:void 0,T=S||{},U=T.MutationObserver||T.WebKitMutationObserver,V="undefined"==typeof self&&void 0!==d&&"[object process]"==={}.toString.call(d),W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Y=void 0;Y=V?function(){return function(){return d.nextTick(j)}}():U?function(){var a=0,b=new U(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():W?function(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}():void 0===S&&"function"==typeof a?function(){try{var a=Function("return this")().require("vertx");return P=a.runOnLoop||a.runOnContext,h()}catch(a){return i()}}():i();var Z=Math.random().toString(36).substring(2),$=void 0,_=1,aa=2,ba={error:null},ca=0,da=function(){function a(a,b){this._instanceConstructor=a,this.promise=new a(m),this.promise[Z]||E(this.promise),N(b)?(this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&w(this.promise,this._result))):x(this.promise,F())}return a.prototype._enumerate=function(a){for(var b=0;this._state===$&&b<a.length;b++)this._eachEntry(a[b],b)},a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===l){var e=p(a);if(e===k&&a._state!==$)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===ea){var f=new c(m);t(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},a.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===$&&(this._remaining--,a===aa?x(d,c):this._result[b]=c),0===this._remaining&&w(d,this._result)},a.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){return c._settledAt(_,b,a)},function(a){return c._settledAt(aa,b,a)})},a}(),ea=function(){function a(b){this[Z]=D(),this._result=this._state=void 0,this._subscribers=[],m!==b&&("function"!=typeof b&&J(),this instanceof a?C(this,b):K())}return a.prototype.catch=function(a){return this.then(null,a)},a.prototype.finally=function(a){var b=this,d=b.constructor;return c(a)?b.then(function(b){return d.resolve(a()).then(function(){return b})},function(b){return d.resolve(a()).then(function(){throw b})}):b.then(a,a)},a}();return ea.prototype.then=k,ea.all=G,ea.race=H,ea.resolve=l,ea.reject=I,ea._setScheduler=f,ea._setAsap=g,ea._asap=R,ea.polyfill=L,ea.Promise=ea,ea})}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:7}],6:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.moment=d()}(this,function(){"use strict";function c(){return Bd.apply(null,arguments)}function d(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function e(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function f(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}function g(a){return void 0===a}function h(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function i(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function j(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function k(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function l(a,b){for(var c in b)k(b,c)&&(a[c]=b[c]);return k(b,"toString")&&(a.toString=b.toString),k(b,"valueOf")&&(a.valueOf=b.valueOf),a}function m(a,b,c,d){return zb(a,b,c,d,!0).utc()}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function o(a){return null==a._pf&&(a._pf=n()),a._pf}function p(a){if(null==a._isValid){var b=o(a),c=Cd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function q(a){var b=m(NaN);return null!=a?l(o(b),a):o(b).userInvalidated=!0,b}function r(a,b){var c,d,e;if(g(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),g(b._i)||(a._i=b._i),g(b._f)||(a._f=b._f),g(b._l)||(a._l=b._l),g(b._strict)||(a._strict=b._strict),g(b._tzm)||(a._tzm=b._tzm),g(b._isUTC)||(a._isUTC=b._isUTC),g(b._offset)||(a._offset=b._offset),g(b._pf)||(a._pf=o(b)),g(b._locale)||(a._locale=b._locale),Dd.length>0)for(c=0;c<Dd.length;c++)d=Dd[c],e=b[d],g(e)||(a[d]=e);return a}function s(a){r(this,a),this._d=new Date(null!=a._d?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ed&&(Ed=!0,c.updateOffset(this),Ed=!1)}function t(a){return a instanceof s||null!=a&&null!=a._isAMomentObject}function u(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function v(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=u(b)),c}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&v(a[d])!==v(b[d]))&&g++;return g+f}function x(a){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function y(a,b){var d=!0;return l(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,a),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}x(a+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return b.apply(this,arguments)},b)}function z(a,b){null!=c.deprecationHandler&&c.deprecationHandler(a,b),Fd[a]||(x(b),Fd[a]=!0)}function A(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function B(a){var b,c;for(c in a)b=a[c],A(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(a,b){var c,d=l({},a);for(c in b)k(b,c)&&(e(a[c])&&e(b[c])?(d[c]={},l(d[c],a[c]),l(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);for(c in a)k(a,c)&&!k(b,c)&&e(a[c])&&(d[c]=l({},d[c]));return d}function D(a){null!=a&&this.set(a)}function E(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return A(d)?d.call(b,c):d}function F(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function G(){return this._invalidDate}function H(a){return this._ordinal.replace("%d",a)}function I(a,b,c,d){var e=this._relativeTime[c];return A(e)?e(a,b,c,d):e.replace(/%d/i,a)}function J(a,b){var c=this._relativeTime[a>0?"future":"past"];return A(c)?c(b):c.replace(/%s/i,b)}function K(a,b){var c=a.toLowerCase();Ld[c]=Ld[c+"s"]=Ld[b]=a}function L(a){return"string"==typeof a?Ld[a]||Ld[a.toLowerCase()]:void 0}function M(a){var b,c,d={};for(c in a)k(a,c)&&(b=L(c))&&(d[b]=a[c]);return d}function N(a,b){Md[a]=b}function O(a){var b=[];for(var c in a)b.push({unit:c,priority:Md[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function P(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function Q(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qd[a]=e),b&&(Qd[b[0]]=function(){return P(e.apply(this,arguments),b[1],b[2])}),c&&(Qd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function R(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function S(a){var b,c,d=a.match(Nd);for(b=0,c=d.length;b<c;b++)Qd[d[b]]?d[b]=Qd[d[b]]:d[b]=R(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=A(d[e])?d[e].call(b,a):d[e];return f}}function T(a,b){return a.isValid()?(b=U(b,a.localeData()),Pd[b]=Pd[b]||S(b),Pd[b](a)):a.localeData().invalidDate()}function U(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Od.lastIndex=0;d>=0&&Od.test(a);)a=a.replace(Od,c),Od.lastIndex=0,d-=1;return a}function V(a,b,c){ge[a]=A(b)?b:function(a,d){return a&&c?c:b}}function W(a,b){return k(ge,a)?ge[a](b._strict,b._locale):new RegExp(X(a))}function X(a){return Y(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),h(b)&&(d=function(a,c){c[b]=v(a)}),c=0;c<a.length;c++)he[a[c]]=d}function $(a,b){Z(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function _(a,b,c){null!=b&&k(he,a)&&he[a](b,c._a,c,a)}function aa(a){return ba(a)?366:365}function ba(a){return a%4==0&&a%100!=0||a%400==0}function ca(){return ba(this.year())}function da(a,b){return function(d){return null!=d?(fa(this,a,d),c.updateOffset(this,b),this):ea(this,a)}}function ea(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function fa(a,b,c){a.isValid()&&!isNaN(c)&&("FullYear"===b&&ba(a.year())&&1===a.month()&&29===a.date()?a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ja(c,a.month())):a._d["set"+(a._isUTC?"UTC":"")+b](c))}function ga(a){return a=L(a),A(this[a])?this[a]():this}function ha(a,b){if("object"==typeof a){a=M(a);for(var c=O(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=L(a),A(this[a]))return this[a](b);return this}function ia(a,b){return(a%b+b)%b}function ja(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=ia(b,12);return a+=(b-c)/12,1===c?ba(a)?29:28:31-c%7%2}function ka(a,b){return a?d(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||te).test(b)?"format":"standalone"][a.month()]:d(this._months)?this._months:this._months.standalone}function la(a,b){return a?d(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[te.test(b)?"format":"standalone"][a.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ma(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=m([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=re.call(this._shortMonthsParse,g),-1!==e?e:null):(e=re.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?-1!==(e=re.call(this._shortMonthsParse,g))?e:(e=re.call(this._longMonthsParse,g),-1!==e?e:null):-1!==(e=re.call(this._longMonthsParse,g))?e:(e=re.call(this._shortMonthsParse,g),-1!==e?e:null)}function na(a,b,c){var d,e,f;if(this._monthsParseExact)return ma.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=m([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function oa(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=v(b);else if(b=a.localeData().monthsParse(b),!h(b))return a;return c=Math.min(a.date(),ja(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function pa(a){return null!=a?(oa(this,a),c.updateOffset(this,!0),this):ea(this,"Month")}function qa(){return ja(this.year(),this.month())}function ra(a){return this._monthsParseExact?(k(this,"_monthsRegex")||ta.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=we),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function sa(a){return this._monthsParseExact?(k(this,"_monthsRegex")||ta.call(this),a?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=xe),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function ta(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=m([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=Y(d[b]),e[b]=Y(e[b]);for(b=0;b<24;b++)f[b]=Y(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ua(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function va(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function wa(a,b,c){var d=7+b-c;return-(7+va(a,0,d).getUTCDay()-b)%7+d-1}function xa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=wa(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=aa(f)+j):j>aa(a)?(f=a+1,g=j-aa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function ya(a,b,c){var d,e,f=wa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+za(e,b,c)):g>za(a.year(),b,c)?(d=g-za(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function za(a,b,c){var d=wa(a,b,c),e=wa(a+1,b,c);return(aa(a)-d+e)/7}function Aa(a){return ya(a,this._week.dow,this._week.doy).week}function Ba(){return this._week.dow}function Ca(){return this._week.doy}function Da(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ea(a){var b=ya(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Fa(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ga(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ha(a,b){return a?d(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:d(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ia(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ja(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ka(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=m([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=re.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=re.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=re.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?-1!==(e=re.call(this._weekdaysParse,g))?e:-1!==(e=re.call(this._shortWeekdaysParse,g))?e:(e=re.call(this._minWeekdaysParse,g),-1!==e?e:null):"ddd"===b?-1!==(e=re.call(this._shortWeekdaysParse,g))?e:-1!==(e=re.call(this._weekdaysParse,g))?e:(e=re.call(this._minWeekdaysParse,g),-1!==e?e:null):-1!==(e=re.call(this._minWeekdaysParse,g))?e:-1!==(e=re.call(this._weekdaysParse,g))?e:(e=re.call(this._shortWeekdaysParse,g),-1!==e?e:null)}function La(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ka.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=m([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ma(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Fa(a,this.localeData()),this.add(a-b,"d")):b}function Na(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Oa(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ga(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Pa(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Ce),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qa(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=De),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ra(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ee),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=m([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=Y(h[b]),i[b]=Y(i[b]),j[b]=Y(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ta(){return this.hours()%12||12}function Ua(){return this.hours()||24}function Va(a,b){Q(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Wa(a,b){return b._meridiemParse}function Xa(a){return"p"===(a+"").toLowerCase().charAt(0)}function Ya(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Za(a){return a?a.toLowerCase().replace("_","-"):a}function $a(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Za(a[f]).split("-"),b=e.length,c=Za(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=_a(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return Fe}function _a(c){var d=null;if(!Je[c]&&void 0!==b&&b&&b.exports)try{d=Fe._abbr;a("./locale/"+c),ab(d)}catch(a){}return Je[c]}function ab(a,b){var c;return a&&(c=g(b)?db(a):bb(a,b),c?Fe=c:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Fe._abbr}function bb(a,b){if(null!==b){var c,d=Ie;if(b.abbr=a,
null!=Je[a])z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=Je[a]._config;else if(null!=b.parentLocale)if(null!=Je[b.parentLocale])d=Je[b.parentLocale]._config;else{if(null==(c=_a(b.parentLocale)))return Ke[b.parentLocale]||(Ke[b.parentLocale]=[]),Ke[b.parentLocale].push({name:a,config:b}),null;d=c._config}return Je[a]=new D(C(d,b)),Ke[a]&&Ke[a].forEach(function(a){bb(a.name,a.config)}),ab(a),Je[a]}return delete Je[a],null}function cb(a,b){if(null!=b){var c,d,e=Ie;d=_a(a),null!=d&&(e=d._config),b=C(e,b),c=new D(b),c.parentLocale=Je[a],Je[a]=c,ab(a)}else null!=Je[a]&&(null!=Je[a].parentLocale?Je[a]=Je[a].parentLocale:null!=Je[a]&&delete Je[a]);return Je[a]}function db(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Fe;if(!d(a)){if(b=_a(a))return b;a=[a]}return $a(a)}function eb(){return Gd(Je)}function fb(a){var b,c=a._a;return c&&-2===o(a).overflow&&(b=c[je]<0||c[je]>11?je:c[ke]<1||c[ke]>ja(c[ie],c[je])?ke:c[le]<0||c[le]>24||24===c[le]&&(0!==c[me]||0!==c[ne]||0!==c[oe])?le:c[me]<0||c[me]>59?me:c[ne]<0||c[ne]>59?ne:c[oe]<0||c[oe]>999?oe:-1,o(a)._overflowDayOfYear&&(b<ie||b>ke)&&(b=ke),o(a)._overflowWeeks&&-1===b&&(b=pe),o(a)._overflowWeekday&&-1===b&&(b=qe),o(a).overflow=b),a}function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(a){var b=new Date(c.now());return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ib(a){var b,c,d,e,f,g=[];if(!a._d){for(d=hb(a),a._w&&null==a._a[ke]&&null==a._a[je]&&jb(a),null!=a._dayOfYear&&(f=gb(a._a[ie],d[ie]),(a._dayOfYear>aa(f)||0===a._dayOfYear)&&(o(a)._overflowDayOfYear=!0),c=va(f,0,a._dayOfYear),a._a[je]=c.getUTCMonth(),a._a[ke]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;b<7;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[le]&&0===a._a[me]&&0===a._a[ne]&&0===a._a[oe]&&(a._nextDay=!0,a._a[le]=0),a._d=(a._useUTC?va:ua).apply(null,g),e=a._useUTC?a._d.getUTCDay():a._d.getDay(),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[le]=24),a._w&&void 0!==a._w.d&&a._w.d!==e&&(o(a).weekdayMismatch=!0)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=gb(b.GG,a._a[ie],ya(Ab(),1,4).year),d=gb(b.W,1),((e=gb(b.E,1))<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=ya(Ab(),f,g);c=gb(b.gg,a._a[ie],j.year),d=gb(b.w,j.week),null!=b.d?((e=b.d)<0||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>za(c,f,g)?o(a)._overflowWeeks=!0:null!=i?o(a)._overflowWeekday=!0:(h=xa(c,d,e,f,g),a._a[ie]=h.year,a._dayOfYear=h.dayOfYear)}function kb(a){var b,c,d,e,f,g,h=a._i,i=Le.exec(h)||Me.exec(h);if(i){for(o(a).iso=!0,b=0,c=Oe.length;b<c;b++)if(Oe[b][1].exec(i[1])){e=Oe[b][0],d=!1!==Oe[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Pe.length;b<c;b++)if(Pe[b][1].exec(i[3])){f=(i[2]||" ")+Pe[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Ne.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),sb(a)}else a._isValid=!1}function lb(a,b,c,d,e,f){var g=[mb(a),ve.indexOf(b),parseInt(c,10),parseInt(d,10),parseInt(e,10)];return f&&g.push(parseInt(f,10)),g}function mb(a){var b=parseInt(a,10);return b<=49?2e3+b:b<=999?1900+b:b}function nb(a){return a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ob(a,b,c){if(a){if(Ae.indexOf(a)!==new Date(b[0],b[1],b[2]).getDay())return o(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function pb(a,b,c){if(a)return Se[a];if(b)return 0;var d=parseInt(c,10),e=d%100;return(d-e)/100*60+e}function qb(a){var b=Re.exec(nb(a._i));if(b){var c=lb(b[4],b[3],b[2],b[5],b[6],b[7]);if(!ob(b[1],c,a))return;a._a=c,a._tzm=pb(b[8],b[9],b[10]),a._d=va.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),o(a).rfc2822=!0}else a._isValid=!1}function rb(a){var b=Qe.exec(a._i);if(null!==b)return void(a._d=new Date(+b[1]));kb(a),!1===a._isValid&&(delete a._isValid,qb(a),!1===a._isValid&&(delete a._isValid,c.createFromInputFallback(a)))}function sb(a){if(a._f===c.ISO_8601)return void kb(a);if(a._f===c.RFC_2822)return void qb(a);a._a=[],o(a).empty=!0;var b,d,e,f,g,h=""+a._i,i=h.length,j=0;for(e=U(a._f,a._locale).match(Nd)||[],b=0;b<e.length;b++)f=e[b],d=(h.match(W(f,a))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&o(a).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Qd[f]?(d?o(a).empty=!1:o(a).unusedTokens.push(f),_(f,d,a)):a._strict&&!d&&o(a).unusedTokens.push(f);o(a).charsLeftOver=i-j,h.length>0&&o(a).unusedInput.push(h),a._a[le]<=12&&!0===o(a).bigHour&&a._a[le]>0&&(o(a).bigHour=void 0),o(a).parsedDateParts=a._a.slice(0),o(a).meridiem=a._meridiem,a._a[le]=tb(a._locale,a._a[le],a._meridiem),ib(a),fb(a)}function tb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function ub(a){var b,c,d,e,f;if(0===a._f.length)return o(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=r({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],sb(b),p(b)&&(f+=o(b).charsLeftOver,f+=10*o(b).unusedTokens.length,o(b).score=f,(null==d||f<d)&&(d=f,c=b));l(a,c||b)}function vb(a){if(!a._d){var b=M(a._i);a._a=j([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function wb(a){var b=new s(fb(xb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function xb(a){var b=a._i,c=a._f;return a._locale=a._locale||db(a._l),null===b||void 0===c&&""===b?q({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),t(b)?new s(fb(b)):(i(b)?a._d=b:d(c)?ub(a):c?sb(a):yb(a),p(a)||(a._d=null),a))}function yb(a){var b=a._i;g(b)?a._d=new Date(c.now()):i(b)?a._d=new Date(b.valueOf()):"string"==typeof b?rb(a):d(b)?(a._a=j(b.slice(0),function(a){return parseInt(a,10)}),ib(a)):e(b)?vb(a):h(b)?a._d=new Date(b):c.createFromInputFallback(a)}function zb(a,b,c,g,h){var i={};return!0!==c&&!1!==c||(g=c,c=void 0),(e(a)&&f(a)||d(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=c,i._i=a,i._f=b,i._strict=g,wb(i)}function Ab(a,b,c,d){return zb(a,b,c,d,!1)}function Bb(a,b){var c,e;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return Ab();for(c=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](c)||(c=b[e]);return c}function Cb(){return Bb("isBefore",[].slice.call(arguments,0))}function Db(){return Bb("isAfter",[].slice.call(arguments,0))}function Eb(a){for(var b in a)if(-1===re.call(We,b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<We.length;++d)if(a[We[d]]){if(c)return!1;parseFloat(a[We[d]])!==v(a[We[d]])&&(c=!0)}return!0}function Fb(){return this._isValid}function Gb(){return Zb(NaN)}function Hb(a){var b=M(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=Eb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=db(),this._bubble()}function Ib(a){return a instanceof Hb}function Jb(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function Kb(a,b){Q(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+P(~~(a/60),2)+b+P(~~a%60,2)})}function Lb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Xe)||["-",0,0],f=60*e[1]+v(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Mb(a,b){var d,e;return b._isUTC?(d=b.clone(),e=(t(a)||i(a)?a.valueOf():Ab(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),c.updateOffset(d,!1),d):Ab(a).local()}function Nb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ob(a,b,d){var e,f=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"==typeof a){if(null===(a=Lb(de,a)))return this}else Math.abs(a)<16&&!d&&(a*=60);return!this._isUTC&&b&&(e=Nb(this)),this._offset=a,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==a&&(!b||this._changeInProgress?cc(this,Zb(a-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Nb(this)}function Pb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qb(a){return this.utcOffset(0,a)}function Rb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Nb(this),"m")),this}function Sb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Lb(ce,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Tb(a){return!!this.isValid()&&(a=a?Ab(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function Ub(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vb(){if(!g(this._isDSTShifted))return this._isDSTShifted;var a={};if(r(a,this),a=xb(a),a._a){var b=a._isUTC?m(a._a):Ab(a._a);this._isDSTShifted=this.isValid()&&w(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wb(){return!!this.isValid()&&!this._isUTC}function Xb(){return!!this.isValid()&&this._isUTC}function Yb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Zb(a,b){var c,d,e,f=a,g=null;return Ib(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:h(a)?(f={},b?f[b]=a:f.milliseconds=a):(g=Ye.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:v(g[ke])*c,h:v(g[le])*c,m:v(g[me])*c,s:v(g[ne])*c,ms:v(Jb(1e3*g[oe]))*c}):(g=Ze.exec(a))?(c="-"===g[1]?-1:(g[1],1),f={y:$b(g[2],c),M:$b(g[3],c),w:$b(g[4],c),d:$b(g[5],c),h:$b(g[6],c),m:$b(g[7],c),s:$b(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=ac(Ab(f.from),Ab(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Hb(f),Ib(a)&&k(a,"_locale")&&(d._locale=a._locale),d}function $b(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _b(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ac(a,b){var c;return a.isValid()&&b.isValid()?(b=Mb(b,a),a.isBefore(b)?c=_b(a,b):(c=_b(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bc(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(z(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Zb(c,d),cc(this,e,a),this}}function cc(a,b,d,e){var f=b._milliseconds,g=Jb(b._days),h=Jb(b._months);a.isValid()&&(e=null==e||e,h&&oa(a,ea(a,"Month")+h*d),g&&fa(a,"Date",ea(a,"Date")+g*d),f&&a._d.setTime(a._d.valueOf()+f*d),e&&c.updateOffset(a,g||h))}function dc(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function ec(a,b){var d=a||Ab(),e=Mb(d,this).startOf("day"),f=c.calendarFormat(this,e)||"sameElse",g=b&&(A(b[f])?b[f].call(this,d):b[f]);return this.format(g||this.localeData().calendar(f,this,Ab(d)))}function fc(){return new s(this)}function gc(a,b){var c=t(a)?a:Ab(a);return!(!this.isValid()||!c.isValid())&&(b=L(g(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function hc(a,b){var c=t(a)?a:Ab(a);return!(!this.isValid()||!c.isValid())&&(b=L(g(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function ic(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function jc(a,b){var c,d=t(a)?a:Ab(a);return!(!this.isValid()||!d.isValid())&&(b=L(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function kc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function lc(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function mc(a,b,c){var d,e,f;if(!this.isValid())return NaN;if(d=Mb(a,this),!d.isValid())return NaN;switch(e=6e4*(d.utcOffset()-this.utcOffset()),b=L(b)){case"year":f=nc(this,d)/12;break;case"month":f=nc(this,d);break;case"quarter":f=nc(this,d)/3;break;case"second":f=(this-d)/1e3;break;case"minute":f=(this-d)/6e4;break;case"hour":f=(this-d)/36e5;break;case"day":f=(this-d-e)/864e5;break;case"week":f=(this-d-e)/6048e5;break;default:f=this-d}return c?f:u(f)}function nc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function oc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pc(a){if(!this.isValid())return null;var b=!0!==a,c=b?this.clone().utc():this;return c.year()<0||c.year()>9999?T(c,b?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?b?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",T(c,"Z")):T(c,b?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e=b+'[")]';return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+e)}function rc(a){a||(a=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var b=T(this,a);return this.localeData().postformat(b)}function sc(a,b){return this.isValid()&&(t(a)&&a.isValid()||Ab(a).isValid())?Zb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tc(a){return this.from(Ab(),a)}function uc(a,b){return this.isValid()&&(t(a)&&a.isValid()||Ab(a).isValid())?Zb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function vc(a){return this.to(Ab(),a)}function wc(a){var b;return void 0===a?this._locale._abbr:(b=db(a),null!=b&&(this._locale=b),this)}function xc(){return this._locale}function yc(a){switch(a=L(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function zc(a){return void 0===(a=L(a))||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function Ac(){return this._d.valueOf()-6e4*(this._offset||0)}function Bc(){return Math.floor(this.valueOf()/1e3)}function Cc(){return new Date(this.valueOf())}function Dc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Ec(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Fc(){return this.isValid()?this.toISOString():null}function Gc(){return p(this)}function Hc(){return l({},o(this))}function Ic(){return o(this).overflow}function Jc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Kc(a,b){Q(0,[a,a.length],0,b)}function Lc(a){return Pc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Mc(a){return Pc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Nc(){return za(this.year(),1,4)}function Oc(){var a=this.localeData()._week;return za(this.year(),a.dow,a.doy)}function Pc(a,b,c,d,e){var f;return null==a?ya(this,d,e).year:(f=za(a,d,e),b>f&&(b=f),Qc.call(this,a,b,c,d,e))}function Qc(a,b,c,d,e){var f=xa(a,b,c,d,e),g=va(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Rc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Sc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Tc(a,b){b[oe]=v(1e3*("0."+a))}function Uc(){return this._isUTC?"UTC":""}function Vc(){return this._isUTC?"Coordinated Universal Time":""}function Wc(a){return Ab(1e3*a)}function Xc(){return Ab.apply(null,arguments).parseZone()}function Yc(a){return a}function Zc(a,b,c,d){var e=db(),f=m().set(d,b);return e[c](f,a)}function $c(a,b,c){if(h(a)&&(b=a,a=void 0),a=a||"",null!=b)return Zc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Zc(a,d,c,"month");return e}function _c(a,b,c,d){"boolean"==typeof a?(h(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,h(b)&&(c=b,b=void 0),b=b||"");var e=db(),f=a?e._week.dow:0;if(null!=c)return Zc(b,(c+f)%7,d,"day");var g,i=[];for(g=0;g<7;g++)i[g]=Zc(b,(g+f)%7,d,"day");return i}function ad(a,b){return $c(a,b,"months")}function bd(a,b){return $c(a,b,"monthsShort")}function cd(a,b,c){return _c(a,b,c,"weekdays")}function dd(a,b,c){return _c(a,b,c,"weekdaysShort")}function ed(a,b,c){return _c(a,b,c,"weekdaysMin")}function fd(){var a=this._data;return this._milliseconds=jf(this._milliseconds),this._days=jf(this._days),this._months=jf(this._months),a.milliseconds=jf(a.milliseconds),a.seconds=jf(a.seconds),a.minutes=jf(a.minutes),a.hours=jf(a.hours),a.months=jf(a.months),a.years=jf(a.years),this}function gd(a,b,c,d){var e=Zb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function hd(a,b){return gd(this,a,b,1)}function id(a,b){return gd(this,a,b,-1)}function jd(a){return a<0?Math.floor(a):Math.ceil(a)}function kd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*jd(md(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=u(f/1e3),i.seconds=a%60,b=u(a/60),i.minutes=b%60,c=u(b/60),i.hours=c%24,g+=u(c/24),e=u(ld(g)),h+=e,g-=jd(md(e)),d=u(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ld(a){return 4800*a/146097}function md(a){return 146097*a/4800}function nd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=L(a))||"year"===a)return b=this._days+d/864e5,c=this._months+ld(b),"month"===a?c:c/12;switch(b=this._days+Math.round(md(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function od(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function pd(a){return function(){return this.as(a)}}function qd(){return Zb(this)}function rd(a){return a=L(a),this.isValid()?this[a+"s"]():NaN}function sd(a){return function(){return this.isValid()?this._data[a]:NaN}}function td(){return u(this.days()/7)}function ud(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function vd(a,b,c){var d=Zb(a).abs(),e=zf(d.as("s")),f=zf(d.as("m")),g=zf(d.as("h")),h=zf(d.as("d")),i=zf(d.as("M")),j=zf(d.as("y")),k=e<=Af.ss&&["s",e]||e<Af.s&&["ss",e]||f<=1&&["m"]||f<Af.m&&["mm",f]||g<=1&&["h"]||g<Af.h&&["hh",g]||h<=1&&["d"]||h<Af.d&&["dd",h]||i<=1&&["M"]||i<Af.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,ud.apply(null,k)}function wd(a){return void 0===a?zf:"function"==typeof a&&(zf=a,!0)}function xd(a,b){return void 0!==Af[a]&&(void 0===b?Af[a]:(Af[a]=b,"s"===a&&(Af.ss=b-1),!0))}function yd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=vd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function zd(a){return(a>0)-(a<0)||+a}function Ad(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=Bf(this._milliseconds)/1e3,e=Bf(this._days),f=Bf(this._months);a=u(d/60),b=u(a/60),d%=60,a%=60,c=u(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d?d.toFixed(3).replace(/\.?0+$/,""):"",m=this.asSeconds();if(!m)return"P0D";var n=m<0?"-":"",o=zd(this._months)!==zd(m)?"-":"",p=zd(this._days)!==zd(m)?"-":"",q=zd(this._milliseconds)!==zd(m)?"-":"";return n+"P"+(g?o+g+"Y":"")+(h?o+h+"M":"")+(i?p+i+"D":"")+(j||k||l?"T":"")+(j?q+j+"H":"")+(k?q+k+"M":"")+(l?q+l+"S":"")}var Bd,Cd;Cd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Dd=c.momentProperties=[],Ed=!1,Fd={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var Gd;Gd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)k(a,b)&&c.push(b);return c};var Hd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Id={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Jd=/\d{1,2}/,Kd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ld={},Md={},Nd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Od=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pd={},Qd={},Rd=/\d/,Sd=/\d\d/,Td=/\d{3}/,Ud=/\d{4}/,Vd=/[+-]?\d{6}/,Wd=/\d\d?/,Xd=/\d\d\d\d?/,Yd=/\d\d\d\d\d\d?/,Zd=/\d{1,3}/,$d=/\d{1,4}/,_d=/[+-]?\d{1,6}/,ae=/\d+/,be=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,ee=/[+-]?\d+(\.\d{1,3})?/,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ge={},he={},ie=0,je=1,ke=2,le=3,me=4,ne=5,oe=6,pe=7,qe=8;Q("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),K("year","y"),N("year",1),V("Y",be),V("YY",Wd,Sd),V("YYYY",$d,Ud),V("YYYYY",_d,Vd),V("YYYYYY",_d,Vd),Z(["YYYYY","YYYYYY"],ie),Z("YYYY",function(a,b){b[ie]=2===a.length?c.parseTwoDigitYear(a):v(a)}),Z("YY",function(a,b){b[ie]=c.parseTwoDigitYear(a)}),Z("Y",function(a,b){b[ie]=parseInt(a,10)}),c.parseTwoDigitYear=function(a){return v(a)+(v(a)>68?1900:2e3)};var re,se=da("FullYear",!0);re=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),Q("MMMM",0,0,function(a){return this.localeData().months(this,a)}),K("month","M"),N("month",8),V("M",Wd),V("MM",Wd,Sd),V("MMM",function(a,b){return b.monthsShortRegex(a)}),V("MMMM",function(a,b){return b.monthsRegex(a)}),Z(["M","MM"],function(a,b){b[je]=v(a)-1}),Z(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[je]=e:o(c).invalidMonth=a});var te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ue="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ve="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=fe,xe=fe;Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),K("week","w"),K("isoWeek","W"),N("week",5),N("isoWeek",5),V("w",Wd),V("ww",Wd,Sd),V("W",Wd),V("WW",Wd,Sd),$(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=v(a)});var ye={dow:0,doy:6};Q("d",0,"do","day"),Q("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),Q("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),Q("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),K("day","d"),K("weekday","e"),K("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),V("d",Wd),V("e",Wd),V("E",Wd),V("dd",function(a,b){return b.weekdaysMinRegex(a)}),V("ddd",function(a,b){return b.weekdaysShortRegex(a)}),V("dddd",function(a,b){return b.weekdaysRegex(a)}),$(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:o(c).invalidWeekday=a}),$(["d","e","E"],function(a,b,c,d){b[d]=v(a)});var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ae="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Be="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ce=fe,De=fe,Ee=fe;Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,Ta),Q("k",["kk",2],0,Ua),Q("hmm",0,0,function(){return""+Ta.apply(this)+P(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+Ta.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),Va("a",!0),Va("A",!1),K("hour","h"),N("hour",13),V("a",Wa),V("A",Wa),V("H",Wd),V("h",Wd),V("k",Wd),V("HH",Wd,Sd),V("hh",Wd,Sd),V("kk",Wd,Sd),V("hmm",Xd),V("hmmss",Yd),V("Hmm",Xd),V("Hmmss",Yd),Z(["H","HH"],le),Z(["k","kk"],function(a,b,c){var d=v(a);b[le]=24===d?0:d}),Z(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Z(["h","hh"],function(a,b,c){b[le]=v(a),o(c).bigHour=!0}),Z("hmm",function(a,b,c){var d=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d)),o(c).bigHour=!0}),Z("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d,2)),b[ne]=v(a.substr(e)),o(c).bigHour=!0}),Z("Hmm",function(a,b,c){var d=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d))}),Z("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d,2)),b[ne]=v(a.substr(e))});var Fe,Ge=/[ap]\.?m?\.?/i,He=da("Hours",!0),Ie={calendar:Hd,longDateFormat:Id,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Jd,relativeTime:Kd,months:ue,monthsShort:ve,week:ye,weekdays:ze,weekdaysMin:Be,weekdaysShort:Ae,meridiemParse:Ge},Je={},Ke={},Le=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ne=/Z|[+-]\d\d(?::?\d\d)?/,Oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Qe=/^\/?Date\((\-?\d+)/i,Re=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Se={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};c.createFromInputFallback=y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var Te=y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:q()}),Ue=y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:q()}),Ve=function(){return Date.now?Date.now():+new Date},We=["year","quarter","month","week","day","hour","minute","second","millisecond"];Kb("Z",":"),Kb("ZZ",""),V("Z",de),V("ZZ",de),Z(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Lb(de,a)});var Xe=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var Ye=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ze=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zb.fn=Hb.prototype,Zb.invalid=Gb;var $e=bc(1,"add"),_e=bc(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var af=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Kc("gggg","weekYear"),Kc("ggggg","weekYear"),Kc("GGGG","isoWeekYear"),Kc("GGGGG","isoWeekYear"),K("weekYear","gg"),K("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),V("G",be),V("g",be),V("GG",Wd,Sd),V("gg",Wd,Sd),V("GGGG",$d,Ud),V("gggg",$d,Ud),V("GGGGG",_d,Vd),V("ggggg",_d,Vd),$(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=v(a)}),$(["gg","GG"],function(a,b,d,e){b[e]=c.parseTwoDigitYear(a)}),Q("Q",0,"Qo","quarter"),K("quarter","Q"),N("quarter",7),V("Q",Rd),Z("Q",function(a,b){b[je]=3*(v(a)-1)}),Q("D",["DD",2],"Do","date"),K("date","D"),N("date",9),V("D",Wd),V("DD",Wd,Sd),V("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],ke),Z("Do",function(a,b){b[ke]=v(a.match(Wd)[0])});var bf=da("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),K("dayOfYear","DDD"),N("dayOfYear",4),V("DDD",Zd),V("DDDD",Td),Z(["DDD","DDDD"],function(a,b,c){c._dayOfYear=v(a)}),Q("m",["mm",2],0,"minute"),K("minute","m"),N("minute",14),V("m",Wd),V("mm",Wd,Sd),Z(["m","mm"],me);var cf=da("Minutes",!1);Q("s",["ss",2],0,"second"),K("second","s"),N("second",15),V("s",Wd),V("ss",Wd,Sd),Z(["s","ss"],ne);var df=da("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),K("millisecond","ms"),N("millisecond",16),V("S",Zd,Rd),V("SS",Zd,Sd),V("SSS",Zd,Td);var ef;for(ef="SSSS";ef.length<=9;ef+="S")V(ef,ae);for(ef="S";ef.length<=9;ef+="S")Z(ef,Tc);var ff=da("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var gf=s.prototype;gf.add=$e,gf.calendar=ec,gf.clone=fc,gf.diff=mc,gf.endOf=zc,gf.format=rc,gf.from=sc,gf.fromNow=tc,gf.to=uc,gf.toNow=vc,gf.get=ga,gf.invalidAt=Ic,gf.isAfter=gc,gf.isBefore=hc,gf.isBetween=ic,gf.isSame=jc,gf.isSameOrAfter=kc,gf.isSameOrBefore=lc,gf.isValid=Gc,gf.lang=af,gf.locale=wc,gf.localeData=xc,gf.max=Ue,gf.min=Te,gf.parsingFlags=Hc,gf.set=ha,gf.startOf=yc,gf.subtract=_e,gf.toArray=Dc,gf.toObject=Ec,gf.toDate=Cc,gf.toISOString=pc,gf.inspect=qc,gf.toJSON=Fc,gf.toString=oc,gf.unix=Bc,gf.valueOf=Ac,gf.creationData=Jc,gf.year=se,gf.isLeapYear=ca,
gf.weekYear=Lc,gf.isoWeekYear=Mc,gf.quarter=gf.quarters=Rc,gf.month=pa,gf.daysInMonth=qa,gf.week=gf.weeks=Da,gf.isoWeek=gf.isoWeeks=Ea,gf.weeksInYear=Oc,gf.isoWeeksInYear=Nc,gf.date=bf,gf.day=gf.days=Ma,gf.weekday=Na,gf.isoWeekday=Oa,gf.dayOfYear=Sc,gf.hour=gf.hours=He,gf.minute=gf.minutes=cf,gf.second=gf.seconds=df,gf.millisecond=gf.milliseconds=ff,gf.utcOffset=Ob,gf.utc=Qb,gf.local=Rb,gf.parseZone=Sb,gf.hasAlignedHourOffset=Tb,gf.isDST=Ub,gf.isLocal=Wb,gf.isUtcOffset=Xb,gf.isUtc=Yb,gf.isUTC=Yb,gf.zoneAbbr=Uc,gf.zoneName=Vc,gf.dates=y("dates accessor is deprecated. Use date instead.",bf),gf.months=y("months accessor is deprecated. Use month instead",pa),gf.years=y("years accessor is deprecated. Use year instead",se),gf.zone=y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pb),gf.isDSTShifted=y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vb);var hf=D.prototype;hf.calendar=E,hf.longDateFormat=F,hf.invalidDate=G,hf.ordinal=H,hf.preparse=Yc,hf.postformat=Yc,hf.relativeTime=I,hf.pastFuture=J,hf.set=B,hf.months=ka,hf.monthsShort=la,hf.monthsParse=na,hf.monthsRegex=sa,hf.monthsShortRegex=ra,hf.week=Aa,hf.firstDayOfYear=Ca,hf.firstDayOfWeek=Ba,hf.weekdays=Ha,hf.weekdaysMin=Ja,hf.weekdaysShort=Ia,hf.weekdaysParse=La,hf.weekdaysRegex=Pa,hf.weekdaysShortRegex=Qa,hf.weekdaysMinRegex=Ra,hf.isPM=Xa,hf.meridiem=Ya,ab("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===v(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),c.lang=y("moment.lang is deprecated. Use moment.locale instead.",ab),c.langData=y("moment.langData is deprecated. Use moment.localeData instead.",db);var jf=Math.abs,kf=pd("ms"),lf=pd("s"),mf=pd("m"),nf=pd("h"),of=pd("d"),pf=pd("w"),qf=pd("M"),rf=pd("y"),sf=sd("milliseconds"),tf=sd("seconds"),uf=sd("minutes"),vf=sd("hours"),wf=sd("days"),xf=sd("months"),yf=sd("years"),zf=Math.round,Af={ss:44,s:45,m:45,h:22,d:26,M:11},Bf=Math.abs,Cf=Hb.prototype;return Cf.isValid=Fb,Cf.abs=fd,Cf.add=hd,Cf.subtract=id,Cf.as=nd,Cf.asMilliseconds=kf,Cf.asSeconds=lf,Cf.asMinutes=mf,Cf.asHours=nf,Cf.asDays=of,Cf.asWeeks=pf,Cf.asMonths=qf,Cf.asYears=rf,Cf.valueOf=od,Cf._bubble=kd,Cf.clone=qd,Cf.get=rd,Cf.milliseconds=sf,Cf.seconds=tf,Cf.minutes=uf,Cf.hours=vf,Cf.days=wf,Cf.weeks=td,Cf.months=xf,Cf.years=yf,Cf.humanize=yd,Cf.toISOString=Ad,Cf.toString=Ad,Cf.toJSON=Ad,Cf.locale=wc,Cf.localeData=xc,Cf.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ad),Cf.lang=af,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),V("x",be),V("X",ee),Z("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Z("x",function(a,b,c){c._d=new Date(v(a))}),c.version="2.22.2",function(a){Bd=a}(Ab),c.fn=gf,c.min=Cb,c.max=Db,c.now=Ve,c.utc=m,c.unix=Wc,c.months=ad,c.isDate=i,c.locale=ab,c.invalid=q,c.duration=Zb,c.isMoment=t,c.weekdays=cd,c.parseZone=Xc,c.localeData=db,c.isDuration=Ib,c.monthsShort=bd,c.weekdaysMin=ed,c.defineLocale=bb,c.updateLocale=cb,c.locales=eb,c.weekdaysShort=dd,c.normalizeUnits=L,c.relativeTimeRounding=wd,c.relativeTimeThreshold=xd,c.calendarFormat=dc,c.prototype=gf,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},c})},{}],7:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],8:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../src/es6/_navigation.es6"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=new f.default,h=(g.get_page(),function a(){d(this,a)});c.default=h},{"../../src/es6/_navigation.es6":9}],9:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"get_url_path",value:function(){var a=window.location.pathname.split(/(?:\/|\:)+/).splice(1),b=[];return $.each(a,function(a,c){b.push(decodeURIComponent(c))}),b}},{key:"get_page",value:function(){var a=this.get_url_path()[0];return""==a?"home":a}},{key:"get_ontology_url_regex",value:function(a){return new RegExp("([\\w]+\\_[\\w\\d]+)\\"+a+"(.*)","g")}},{key:"get_terms_url_regex",value:function(a){return new RegExp("([\\w]+\\_[\\w\\d]+)\\"+a+"(.*)"+a+"(.*)","g")}},{key:"get_ontology_id",value:function(){return void 0!==this.get_url_path()[1]?this.get_url_path()[1]:""}},{key:"get_term_id",value:function(){return void 0!==this.get_url_path()[2]?this.get_url_path()[2]:""}},{key:"get_full_id",value:function(){return"terms"==this.get_page()?this.get_url_path()[1]+":"+this.get_url_path()[2]:this.get_url_path()[1]}},{key:"get_ontology_label",value:function(){return void 0!==this.get_url_path()[2]?this.get_url_path()[2]:"..."}},{key:"get_term_label",value:function(){return void 0!==this.get_url_path()[3]?this.get_url_path()[3]:""}}]),a}();c.default=f},{}],10:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},$.fn.hasAttr=function(a){return void 0!==this.attr(a)};var e=function a(){d(this,a)};c.default=e},{}],11:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("../../common/settings/contents.json"),h=function(){function a(){d(this,a)}return f(a,[{key:"ucfirst",value:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}},{key:"lcfirst",value:function(a){return a.charAt(0).toLowerCase()+a.slice(1)}},{key:"ucwords",value:function(a){return(a+"").replace(/^(.)|\s+(.)/g,function(a){return a.toUpperCase()})}},{key:"addslashes",value:function(a){return a.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\"/g,'\\"').replace(/\0/g,"\\0")}},{key:"stripslashes",value:function(a){return a.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\:/g,":").replace(/\\0/g,"\0").replace(/\\\\/g,"\\")}},{key:"nl2br",value:function(a){return a.replace(/(\r\n|\n\r|\r|\n)/g,"<br />")}},{key:"pluralize",value:function(a,b){return 1!==a?b+"s":b}},{key:"is_json",value:function(a){try{JSON.parse(a)}catch(a){return!1}return!0}},{key:"is_url",value:function(a){return a.startsWith("http")}},{key:"camel_case_2_text",value:function(a){return a.replace(/([a-z])([A-Z])/g,"$1 $2")}},{key:"readable_data",value:function(a){return this.camel_case_2_text(a.replace("_"," "))}},{key:"extract_text",value:function(a,b){return void 0==b&&(b=","),($.trim($(a).text()).split(b)[0]+".").split("\n")[0]}},{key:"is_term_id",value:function(a){return/^([\w\d\_]+){6}\:([\d]+){6}$/.test(a)}},{key:"is_date",value:function(a){return/^\d{1,2}[\/|\-]\d{1,2}[\/|\-]\d{4}$/.test(a)}},{key:"check_regex",value:function(a,b){return b.test(a)}},{key:"get_ontologies_languages",value:function(a){var b=this,c=[];return this.is_json(a)?$.each(JSON.parse(a),function(a,d){c.push(b.ucfirst(a))}):c.push("English"),1==c.length?c[0]:c}},{key:"get_ontology_term",value:function(a,b){var c=this;a="object"==(void 0===a?"undefined":e(a))?JSON.stringify(a):a,b=void 0==b||"undefined"==b?g.general.language:b;var d={};return this.is_json(a)?$.each(JSON.parse(a),function(a,b){a=void 0==a||"undefined"==a?g.general.language:a,d[a]=c.ucfirst(b)}):d[b]=a,d[b]}},{key:"get_ontology_term_language",value:function(a){var b=[],c=g.general.language;return this.is_json(a)?$.each(JSON.parse(a),function(a,d){b.push(void 0==a||"undefined"==a?c:a)}):b.push(c),b[0]}}]),a}();c.default=h},{"../../common/settings/contents.json":1}],12:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("../../src/es6/data.es6"),h=d(g),i=a("../../src/es6/_navigation.es6"),j=d(i),l=a("../../src/es6/loader.es6"),m=d(l),n=a("../../src/es6/_str.es6"),o=d(n),p=new h.default,q=new j.default,r=new m.default,s=new o.default,t=q.get_page(),u=(a("moment"),a("../../common/settings/contents.json")),v=a("../../common/settings/languages.json"),w=function(){function a(){e(this,a)}return f(a,[{key:"id2class",value:function(a){return a.replace(":","-")}},{key:"class2id",value:function(a){return a.replace("-",":")}},{key:"build_tree",value:function(a,b,c){var d=this;a.append($("<ul>")),p.get_children(b).then(function(b){$.each(b,function(c,e){var f="",g="hitarea_"+d.id2class(e.id);e.has_children?c==b.length-1?(f="last expandable lastExpandable",g+=" hitarea lastExpandable-hitarea"):(f="",g+=" hitarea expandable-hitarea"):f=c==b.length-1?"last":"";var h=$("<div>",{class:g}).click(function(a){d.action(a,e.id)});a.find("ul").append($("<li>",{class:f}).append(h).append(d.button({id:e.id,term:s.ucfirst(p.extract_name(e.name)),source:e,is_root:!1})).append($("<span>",{class:"relationship "+e.relationship,title:"Relationship: `"+e.relationship+"`"}).text(e.relationship)))}),"function"==typeof c&&c(b)})}},{key:"toggleIcon",value:function(a){var b=$(a.currentTarget).closest("li"),c=b.find("ul");0!=c.length&&c.is(":visible")?(b.hasClass("collapsable")&&b.removeClass("collapsable").addClass("expandable"),b.hasClass("lastCollapsable")&&b.removeClass("lastCollapsable").addClass("lastExpandable"),$(a.currentTarget).hasClass("collapsable-hitarea")&&$(a.currentTarget).removeClass("collapsable-hitarea").addClass("expandable-hitarea"),$(a.currentTarget).hasClass("lastCollapsable-hitarea")&&$(a.currentTarget).removeClass("lastCollapsable-hitarea").addClass("lastExpandable-hitarea")):(b.hasClass("expandable")&&b.removeClass("expandable").addClass("collapsable"),b.hasClass("lastExpandable")&&b.removeClass("lastExpandable").addClass("lastCollapsable"),$(a.currentTarget).hasClass("expandable-hitarea")&&$(a.currentTarget).removeClass("expandable-hitarea").addClass("collapsable-hitarea"),$(a.currentTarget).hasClass("lastExpandable-hitarea")&&$(a.currentTarget).removeClass("lastExpandable-hitarea").addClass("lastCollapsable-hitarea"))}},{key:"get_obj_ids",value:function(a){var b=[];return $.each(a,function(a,c){b.push(c.id)}),b}},{key:"action",value:function(a,b){var c=this,d=void 0==a.jquery?$(a.currentTarget).closest("li"):a,e=d.find("ul");0!=e.length&&e.is(":visible")?(this.toggleIcon(a),e.hide(),$(a.target).closest("ul").closest("li.expandable").find("a").first().addClass("selected")):(this.toggleIcon(a),0==e.length?($("#treeview_container").prepend(r.create({target:"#treeview_container",type:"progress"})),$("#treeview_container").addClass("disabled"),"terms"==t&&void 0!==q.get_term_id()?($(".treeview a.selected").removeClass("selected"),p.get_term_parents(q.get_full_id()).then(function(a){var e=void 0,f=void 0,g=void 0,h=void 0;$.each(a[0],function(b,d){e=c.get_obj_ids(a[0]),f=a[0][0],h=$(".hitarea_"+c.id2class(f.id)).parent("li").last(),g=a[0][a[0].length-1]}),c.build_tree(d,b,function(){return $.each(e,function(a,b){if(b==e[e.length-1])$("."+c.id2class(b)).click();else{var d=$(".hitarea_"+c.id2class(b));(d.hasClass("expandable-hitarea")||d.hasClass("lastExpandable-hitarea"))&&d.click()}}),dfd.promise()})})):this.build_tree(d,b,function(){$("."+c.id2class(b)).click(),r.hide("#treeview_container .progress")})):(e.show(),r.hide("#treeview_container .progress")))}},{key:"tree_icon",value:function(a,b){var c=this,d="hitarea_"+this.id2class(b)+" "+(a?"expandable-hitarea lastExpandable-hitarea":"");return $("<div>",{class:"hitarea "+d}).click(function(a){c.action(a,b)})}},{key:"page_info_btn__actions",value:function(){var a=this;$("#page_info .btn-mini, #page_info .card-action .btn").on("click",function(b){b.preventDefault();var c=void 0,d=void 0,e=($("#page_info dl"),""),f="",g="english",h="",i="Attribute name",j="add";$(b.target).hasClass("add_term")||(c=$(b.target).closest("dd"),d=c.clone(),e=d.find("a").data("term_id"),f=d.find("a").data("key"),g=d.find("a").data("language"),h=$.trim(d.text()),i=h,j="edit");var k=$("<form>",{method:"post",enctype:"multipart/form-data",action:"",id:"form"}).append($("<div>",{class:"row"}).append($("<div>",{class:"col s12 switch"}).append($("<label>").append("Text").append($("<input>",{type:"checkbox"})).append($("<span>",{class:"lever"})).append("File")))).append($("<div>",{class:"row"}).append($("<div>",{class:"input-field inline col s3"}).append($("<select>",{class:"visible_input",name:"language"}).append($.map(v.all,function(a,b){return $("<option>",{value:a,selected:a==v.default}).text(s.ucfirst(a))})))).append($("<div>",{class:"input-field inline col s9"}).append($("<input>",{type:"hidden",name:"term_id"}).val(e)).append($("<input>",{type:"hidden",name:"key"}).val(f)).append($("<input>",{type:"hidden",name:"language"}).val(g)).append($("<input>",{type:"text",class:"text_input visible_input",name:"value",placeholder:i}).val(h)).append($("<div>",{class:"file-field input-field"}).append($("<div>",{class:"btn highlight-btn btn-mini"}).append($("<span>").text("Upload file")).append($("<input>",{type:"file",class:"visible_input disabled",name:"value",placeholder:"Upload file from your computer"}))).append($("<div>",{class:"file-path-wrapper"}).append($("<input>",{type:"text",name:"value",class:"file-path validate disabled"}))).hide()))).append($("<div>",{class:"row"}).append($("<div>",{class:"col s12"}).append($("<a>",{href:"javascript:;",class:"btn-link grey-text left"}).text("â€¹ Cancel").on("click",function(b){b.preventDefault(),"add"==j?($(".add_term").removeClass("disabled"),$("#add_term_form").html("").hide()):c.html(d.html()).removeClass("editing"),a.page_info_btn__actions(e,f,g)})).append($("<a>",{href:"javascript:;",class:"btn btn-flat btn-highlight right"}).text("Save").on("click",function(a){a.preventDefault(),p.get_attribute_upload_url().then(function(b){$(a.target).closest("form").attr("action",b).submit()})}))));if($(b.target).hasClass("add_term"))$(b.target).addClass("disabled"),$("#add_term_form").html(k).show(),k.find(".visible_input").focus().on("keypress",function(a){0==a.which&&($(".add_term").removeClass("disabled"),$("#add_term_form").html("").hide())});else{var l=$(b.target).closest("dd");l.addClass("editing").html(k),l.find(".visible_input").focus().on("keypress",function(b){0==b.which&&(l.html(d.html()).removeClass("editing"),a.page_info_btn__actions(e,f,g))})}$("select").material_select(),$(".switch").find("input[type=checkbox]").on("change",function(a){$(a.target).prop("checked")?($(".text_input").hide().addClass("disabled"),$(".file-field").show().find("input").removeClass("disabled")):($(".text_input").show().removeClass("disabled"),$(".file-field").hide().find("input").addClass("disabled"))})})}},{key:"add_info",value:function(a,b){var c=a.id,d={id:!0,comment:!0,"ontology id":!0,"ontology name":!0,"is a":!0,"Name of Trait":!0,language:!0,"Scale ID for modification, Blank for New":!0,"Method ID for modification, Blank for New":!0,"Trait ID for modification, Blank for New":!0,"Language of submission (only in ISO 2 letter codes)":!0},e={"Abbreviated name":!0,Synonyms:!0,Synonym:!0,Description:!0,"Trait class":!0,"How is trait":!0},f={"Name of submitting scientist":!0,Institution:!0,"Date of submission":!0,Bibliographic:!0,Updated:!0,xref:!0},g={name:!0,Synonym:!0,"created at":!0},h={},i={};if($.each(d,function(b,c){c&&void 0!==a[b]&&delete a[b]}),$.each(e,function(b,c){c&&void 0!==a[b]&&(h[b]=a[b],delete a[b])}),$.each(f,function(b,c){c&&void 0!==a[b]&&(i[b]=a[b],delete a[b])}),$.each(a,function(b,c){h[b]=a[b]}),$.each(i,function(a,b){h[a]=i[a]}),b){var j=$("#page_info dl").append($("<dt>",{class:"grey-text"}).text("Identifier:")).append($("<dd>",{class:"grey-text"}).append($("<tt>").text(c+" ")).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/rdf/"+c}).append($("<span>",{class:"picol_rdf"}))));$.each(h,function(a,b){j.append($("<dt>",{class:"valign-wrapper"}).append(s.ucfirst(a)+":")).append($("<dd>").append(function(){return p.get_user_logged()&&void 0!==g[a]?$("<span>").append(b+" ").append($("<a>",{href:"javascript:;",class:"btn btn-flat btn-mini white highlight-text","data-term_id":c,"data-key":a,"data-language":"english"}).append($("<span>",{class:"fa fa-edit"}))):b}))}),$("#page_info").html(j).append($("<div>",{class:"card-content",id:"add_term_form"}).hide()).append(function(){if(p.get_user_logged()&&void 0!==g[k])return $("<div>",{class:"card-action"}).append($("<a>",{href:"javascript:;",class:"btn btn-flat white highlight-text add_term"}).append("Add a new attribute ").append($("<span>",{class:"fa fa-plus"})))}),this.page_info_btn__actions()}else $("#page_info").html(a)}},{key:"button",value:function(a){var b=this,c={id:"",term:"",source:{},is_root:!1,langs:[]},d=$.extend({},c,a),e=$("#variables").html(),f=$("#new-comments").html(),g=$("<a>",{"data-tooltip":"<b>"+s.ucfirst(d.term)+"</b><br /><small>Relationship: <tt>"+d.source.relationship+"</tt></small>",class:"btn btn-mini tooltipped "+this.id2class(d.id),"data-id":d.id}).append($("<span>").html(s.camel_case_2_text(d.term))).click(function(a){$("#page_info dl").html(""),$("#comments").html("").hide(),$(".treeview a.selected").removeClass("selected"),$(a.currentTarget).addClass("selected");var c=void 0,g=void 0;d.is_root||"0000000"==d.id.split(":")[1]||"ROOT"==d.id.split(":")[1]?(c="./ontology/"+q.get_ontology_id()+":"+s.get_ontology_term(d.source.name),history.pushState("",d.term,"/ontology/"+q.get_ontology_id()+":"+s.get_ontology_term(d.source.name)),$("#page_title").html(s.camel_case_2_text(s.get_ontology_term(d.source.name))),$("#page_subtitle").html(q.get_ontology_id()),$("span.breadcrumb").find("tt").html(q.get_ontology_id())):(c="./terms/"+d.id+":"+s.get_ontology_term(d.source.name),history.pushState("",d.term,"/terms/"+d.id+":"+s.get_ontology_term(d.source.name)),$("#page_title").html(s.camel_case_2_text(s.get_ontology_term(d.source.name))),$("#page_subtitle").html('<a href="./ontology/'+q.get_ontology_id()+'">'+q.get_ontology_id()+"</a><small>:"+q.get_term_id()+"</small>"),$("span.breadcrumb").html("<tt>"+q.get_ontology_id()+"<small>:"+q.get_term_id()+"</small></tt>"+s.camel_case_2_text(s.get_ontology_term(d.source.name)))),g="https://www.cropontology.org/terms/"+d.id+"/"+d.term+"/static-html?language="+(0==d.langs.length?u.general.language:d.langs[0]),$("#term_info_name").attr("href",c).html(s.readable_data(d.term)),$("#term_permalink").attr("href",g);var h=$("#variables").addClass("disabled").find("a").clone();$("#variables").addClass("disabled").find("a").html($("<span>",{class:"fa fa-spin fa-sync"})),$("#general a").click(),p.get_terms_variables(d.source.id).then(function(a){a.length>0?(e=e.replace(">Variables<",">Variables ("+a.length+")<"),e=e.replace('data-tooltip="Variables"','data-tooltip="Variables ('+a.length+')"'),$("#variables").removeClass("disabled").html(e),$("#variables a").tooltip(),$("#ontology_info ul.tabs a").removeClass("active"),$("#general a").click(),$("#item_variables").html($("<ul>",{class:"collection"})),$.each(a,function(a,b){$("#item_variables .collection").append($("<li>",{class:"collection-item"}).append($("<a>",{href:"./terms/"+b.id}).append($("<div>").append(s.get_ontology_term(b.name)).append($("<span>",{class:"fa fa-chevron-right secondary-content grey-text"})))))})):$("#variables a").addClass("disabled").html(h.html()),r.hide("#pages .progress"),b.enable_info()}),d.is_root||"0000000"==d.id.split(":")[1]||"ROOT"==d.id.split(":")[1]?(b.add_info($("<dl>").append($("<dt>",{class:"grey-text"}).text("Identifier:")).append($("<dd>",{class:"grey-text"}).append($("<tt>").text(d.id+" ")).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/rdf/"+d.id}).append($("<span>",{class:"picol_rdf"})))).append($("<dt>").text("Ontology type:")).append($("<dd>").text(d.source.ontologyType)).append($("<dt>").append("Available languages:")).append($("<dd>").append(function(){return d.langs.length+": "+d.langs.join(", ")})),!1),$("#graph_content").html($("<h1>").append($("<span>",{class:"fab fa-hubspot fa-3x"}))),$("#graph").addClass("disabled"),p.get_ontology_comments(q.get_ontology_id()).then(function(a){var b=$.map(a,function(a,b){return b}).length;b>0&&(f=f.replace(">Comments<",">Comments ("+b+")<"),f=f.replace('data-tooltip="Comments"','data-tooltip="Comments ('+b+')"'),$("#new-comments").html(f),$("#new-comments a").tooltip(),$("#comments").html(""),$.each(a,function(a,b){p.get_user(b[0].username).then(function(a){$("#comments").append($("<li>",{class:"collection-item avatar"}).append($("<img>",{src:a.gravatar.thumbnailUrl,alt:a.username,class:"circle"})).append($("<span>",{class:"title"}).append($("<span>",{class:"highlight"}).text(a.name+" "+a.sirname)).append("<br />").append($("<small>",{class:"grey-text"}).text(b[0].date))).append($("<p>",{style:"font-style:italic;"}).text(b[0].comment))).show()})}))})):(b.disable_info(),r.create({target:"#pages",type:"progress"}),p.get_ontology_attributes(d.source.id).then(function(a){a.id=d.source.id,b.add_info(a,!0)}),r.create({target:"#graph",type:"progress"}),p.get_term_parents(d.id).then(function(a){var b=function(a,b){var c=b.id,d=s.get_ontology_term(b.label),e=c.length>d.length?c:d;return a.set().push(a.rect(b.point[0],b.point[1]-13,e.length+120,44).attr({fill:"#feb",r:"12px","stroke-width":0==b.distance?"3px":"1px"})).push(a.text(b.point[0]+e.length/2+60,b.point[1]+10,(d||b.id)+"\n("+b.id+")"))};$("#graph_content").html("");var c=$("#graph_content").width(),d=$("#graph_content").height(),e=new Graph;e.edgeFactory.template.style.directed=!0,$.each(a,function(a,c){for(var d=0;d<c.length;d++)e.addNode(c[d].id,{render:b,label:s.get_ontology_term(c[d].name)})}),$.each(a,function(a,b){for(var c=0;c<b.length;c++){var d=b[c+1];d&&e.addEdge(d.id,b[c].id,{label:d.relationship})}}),new Graph.Layout.Spring(e).layout(),new Graph.Renderer.Raphael("graph_content",e,parseInt(c),parseInt(d)).draw(),$("#graph").removeClass("disabled"),r.hide("#graph .progress")}),p.get_terms_comments(d.source.id).then(function(a){f=f.replace(">Comments<",">Comments ("+a.length+")<"),f=f.replace('data-tooltip="Comments"','data-tooltip="Comments ('+a.length+')"'),$("#new-comments").html(f),$("#new-comments a").tooltip(),$.each(a,function(a,b){p.get_user(b.author_id).then(function(a){$("#comments").append($("<li>",{class:"collection-item avatar"}).append($("<img>",{src:a.gravatar.thumbnailUrl,alt:a.username,class:"circle"})).append($("<span>",{class:"title"}).append($("<span>",{class:"highlight"}).text(a.name+" "+a.sirname)).append("<br />").append($("<small>",{class:"grey-text"}).text(b.created))).append($("<p>",{style:"font-style:italic;"}).text(b.comment))).show()})}),r.hide("#pages .progress"),b.enable_info()})),r.hide("#treeview_container .progress"),$("#treeview_container").removeClass("disabled")});return q.get_page()&&q.get_term_id()==d.id&&setTimeout(function(){g.click(),g.prev().click(),b.tree_icon(!0,d.id)},100),void 0!==d.source.relationship&&g.tooltip({position:"right",html:!0,delay:1e3}),g}},{key:"disable_info",value:function(){$(this).removeClass("disabled")}},{key:"enable_info",value:function(){$(this).addClass("disabled")}},{key:"get_tree_items",value:function(a){var b={target:"#treeview",source:{}},c=$.extend({},b,a);this.add_items({item:c.target,source:c.source,term:s.get_ontology_term(c.source.name),is_root:!1,langs:c.langs})}},{key:"add_items",value:function(a){var b={item:"#treeview",source:{},term:"",is_root:!1,langs:[]},c=$.extend({},b,a);if(c.is_root){var d=$("<li>",{class:"root"}).append(this.button({id:c.source.id,term:c.term,source:c.source,is_root:c.is_root,langs:c.langs}));$(c.item).append(d),r.create({target:"#pages",type:"progress"}),$("#page_info").html($("<dl>").append($("<dt>",{class:"grey-text"}).text("Identifier:")).append($("<dd>",{class:"grey-text"}).append($("<tt>").text(c.source.id+" ")).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/rdf/"+c.source.id}).append($("<span>",{class:"picol_rdf"})))).append($("<dt>").text("Ontology type:")).append($("<dd>").text(c.source.ontologyType)).append($("<dt>").append("Available languages:")).append($("<dd>").append(function(){return c.langs.length+": "+c.langs.join(", ")}))),r.hide("#pages .progress"),this.get_tree_items({target:"#treeview li.root",source:c.source,langs:c.langs}),$(".treeview .expandable-hitarea").first().click()}else{var e=$("<li>",{class:"last expandable lastExpandable"}).append(this.tree_icon(!0,c.source.id)).append(this.button({id:c.source.id,term:c.term,source:c.source,is_root:c.is_root,langs:c.langs}));$(c.item).append(e)}}}]),a}();c.default=w},{"../../common/settings/contents.json":1,"../../common/settings/languages.json":2,"../../src/es6/_navigation.es6":9,"../../src/es6/_str.es6":11,"../../src/es6/data.es6":14,"../../src/es6/loader.es6":17,moment:6}],13:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../src/es6/data.es6"),f=d(e),g=a("../../../src/es6/loader.es6"),h=d(g),i=a("../../../src/es6/modals.es6"),j=d(i),k=a("../../../src/es6/pages/annotation_tool.es6"),l=d(k),m=new f.default,n=new l.default;new j.default,new h.default;$("#contents").addClass("coloured grey lighten-5").find(".container").append($("<p>",{class:""}).text("Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim.")).append($("<div>",{class:"card"}).append($("<div>",{class:"card-content"}).append().append($("<div>",{id:"step_loader"})).append($("<ul>",{class:"stepper horizontal"}).append($("<li>",{id:"step1",class:"step active"}).append($("<div>",{"data-step-label":"Step 1",class:"step-title waves-effect waves-dark"}).text("Paste Excel")).append($("<div>",{id:"annotation_tool",class:"step-content"}).append($("<div>",{class:"row"}).append($("<div>",{class:"col s12 m12 l12"}).append($("<div>",{class:"title_area"}).append($("<span>",{class:"fas fa-fw fa-3x fa-file-excel green-text left"})).append($("<h6>",{class:"title"}).text("Paste data separated by tab or upload a spreadsheet file").append($("<small>",{class:"help-text"}).html('It uses SheetJS Library that supports <tt>.xlsx</tt>, <tt>.ods</tt>, <tt>.csv</tt> and <a href="http://sheetjs.com/status/" target="_blank" rel="external">much more...</a><br />CropOntology templates will be detected automatically.<br />Download the <a href="http://www.cropontology.org/TD_template_v5.xls">Trait Dictionary template (v5)</a>')))))).append($("<div>",{class:"row"}).append($("<div>",{class:"col s12 m12 l8"}).append($("<div>",{id:"upload_btn",class:"file-field input-field"}).append($("<div>",{class:"btn"}).append($("<span>").text("Browse...")).append($("<input>",{type:"file",name:"xlfile"}).on("change",function(a){$("#generate_btn").addClass("disabled"),$("#continue_btn").removeClass("disabled"),$(".step:not(.active) .step-title").removeClass("disabled"),n.process_file(a.target.files)}))).append($("<div>",{class:"file-path-wrapper"}).append($("<input>",{class:"file-path validate",type:"text",placeholder:"Select a file to upload"}))))).append($("<div>",{class:"col s12 m12 l4"}).append($("<h6>",{class:"options help-text"}).text("Options")).append($("<p>").append($("<input>",{type:"checkbox",class:"filled-in",id:"first_line_contains_titles",checked:"checked"})).append($("<label>",{for:"first_line_contains_titles"}).text("The first line contains column titles"))).append())).append($("<div>",{class:"row"}).append($("<div>",{class:"col s12"}).append($("<input>",{type:"hidden",id:"first_line"})).append($("<input>",{type:"hidden",id:"columns"}).val("A\tB\tC\tD\tE\tF\tG\tH\tI"))).append($("<div>",{class:"col s12"}).append($("<textarea>",{rows:"20",id:"clipboard",placeholder:"Paste Excel data here"}).on("input",function(){""!==$.trim($("#clipboard").val())?($("#generate_btn").addClass("disabled"),$("#continue_btn").removeClass("disabled"),$(".step:not(.active) .step-title").removeClass("disabled")):($("#first_line").val(""),$("#columns").val(""),$("#generate_btn").removeClass("disabled"),$("#continue_btn").addClass("disabled"),$(".step:not(.active) .step-title").addClass("disabled"))})).append($("<div>",{id:"drop_area","data-content":"Drag your file here"})))).append($("<div>",{class:""}).append($("<div>",{class:"step-actions"}).append($("<a>",{href:"javascript:;",id:"generate_btn",class:"btn white highlight-text z-depth-1 left"}).append($("<i>",{class:"material-icons left"}).text("wrap_text")).append(" Generate an example").click(function(){$("#clipboard").val()||($("#columns").val("A\tB\tC\tD\tE\tF\tG\tH\tI"),m.get_annotation_tool_sample(function(a){$("#clipboard").val(a),$("#generate_btn").addClass("disabled"),$("#continue_btn").removeClass("disabled"),
$(".step:not(.active) .step-title").removeClass("disabled")}))})).append($("<button>",{id:"continue_btn",class:"waves-effect waves-dark btn btn-highlight next-step right disabled"}).text("Continue")))))).append($("<li>",{id:"step2",class:"step"}).append($("<div>",{"data-step-label":"Step 2",class:"step-title waves-effect waves-dark disabled"}).text("Manage data and export")).append($("<div>",{class:"step-content"}).append($("<div>",{class:"title_area"}).append($("<h5>").text("Choose your crop and select the cell in the table that you would like to annotate"))).append($("<div>",{id:"generator"}).append($("<div>",{class:"row"}).append().append($("<a>",{href:"javascript:;",class:"btn btn-flat grey lighten-3 fullscreen tooltipped right","data-position":"left","data-tooltip":"Show fullscreen"}).append($("<i>",{class:"material-icons"}).text("fullscreen")).click(function(a){$("#result").fullscreen({toggleClass:"fullscreen"}),$(".btn.fullscreen").blur()}).tooltip())).append($("<div>",{class:""}).append($("<div>",{id:"result"}).append($("<a>",{href:"javascript:;",id:"annotation_tool_sidenav_btn","data-activates":"annotation_tool_data",class:"button-collapse"})).append($("<ul>",{id:"annotation_tool_data",class:"side-nav"}).append($("<li>",{class:"row-control"}).append($("<a>",{href:"javascript:;"}).append($("<i>",{class:"material-icons"}).text("close")).append("Close").click(function(){$(".button-collapse").sideNav("hide")})))))).append($("<div>",{class:"row"}).append($("<div>",{class:"step-actions"}).append($("<button>",{class:"waves-effect waves-dark btn-flat previous-step"}).append($("<span>",{class:"show-on-medium-and-up hide-on-small-only"}).text("Back")).append($("<span>",{class:"show-on-small hide-on-med-and-up fa fa-chevron-left"}))).append($("<button>",{class:"waves-effect waves-dark btn btn-highlight right"}).append($("<span>",{class:"show-on-medium-and-up hide-on-small-only"}).text("Download as CSV")).append($("<span>",{class:"show-on-small hide-on-med-and-up"}).text("Download"))))))))))),n.assign_events()},{"../../../src/es6/data.es6":14,"../../../src/es6/loader.es6":17,"../../../src/es6/modals.es6":18,"../../../src/es6/pages/annotation_tool.es6":19}],14:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("es6-promise"),h=d(g),i=a("../../src/es6/_str.es6"),j=d(i),k=a("../../src/es6/_obj.es6"),l=d(k),m=new j.default,n=(new l.default,{logged:!1}),o=function(){function a(){e(this,a)}return f(a,[{key:"extract_name",value:function(a){var b=void 0;return m.is_json(a)?$.each(JSON.parse(a),function(a,c){$.isArray(c)&&(c=c.join(", ")),b=m.ucfirst(c)}):b=m.ucfirst(a),b}},{key:"get_annotation_tool_sample",value:function(a){$.ajax({type:"GET",url:"/common/statics/annotation-tool_sample.txt",dataType:"text",success:function(b){"function"==typeof a&&a(b)}})}},{key:"search",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/search",data:{q:a},async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"get_ontology_upload_url",value:function(){return new h.default(function(a,b){$.ajax({type:"GET",url:"http://www.cropontology.org/obo-upload-url",async:!0,crossDomain:!0,dataType:"json",success:function(b){a(b)},error:function(a,c,d){b(d)}})})}},{key:"get_attribute_upload_url",value:function(){return new h.default(function(a,b){$.ajax({type:"GET",url:"http://www.cropontology.org/attribute-upload-url",async:!0,crossDomain:!0,dataType:"json",success:function(b){a(b)},error:function(a,c,d){b(d)}})})}},{key:"get_community_website_feed",value:function(){return new h.default(function(a,b){var c=[];$.ajax({type:"GET",url:"https://sites.google.com/feeds/content/cgxchange.org/cropontologycommunity",data:{alt:"json"},async:!0,crossDomain:!0,dataType:"json",success:function(b){var d=function(a){var b=[];return void 0===$(a).find("img").attr("src")?null:(b.push($(a).find("img").attr("src")),1==b.length?$("<img>",{src:b[0],class:""}).prop("outerHTML"):void 0)},e=function(a){return void 0!==$(a).find("iframe").attr("src")?$(a).find("iframe").attr("width","100%").attr("height","100%"):null};$.each(b.feed.entry,function(a,b){c.push({id:b.id.$t,published:b.published.$t,updated:b.updated.$t,title:b.title.$t,content:b.content.$t,preview:null!==d(b.content.$t)?d(b.content.$t):e(b.content.$t),category:b.category,page:void 0!==b.sites$pageName?b.sites$pageName.$t:null,feeds:b.link,link:$.map(b.link,function(a,b){if("text/html"==a.type)return a.href})[0],author:$.map(b.author,function(a,b){return{name:m.ucwords(a.name.$t),email:a.email.$t}})}),1==c[a].author.length&&(c[a].author=c[a].author[0])}),a(c)},error:function(a,c,d){b(d)}})})}},{key:"get_help_content",value:function(){return new h.default(function(a,b){var c=[];$.ajax({type:"GET",url:"https://sites.google.com/feeds/content/cgxchange.org/cropontologycommunity",data:{path:"/home/help-for-the-crop-ontology",alt:"json"},async:!0,crossDomain:!0,dataType:"json",success:function(b){var d=function(a){var b=[];return void 0===$(a).find("img").attr("src")?null:(b.push($(a).find("img").attr("src")),1==b.length?$("<img>",{src:b[0],class:""}).prop("outerHTML"):void 0)},e=function(a){return void 0!==$(a).find("iframe").attr("src")?$(a).find("iframe").attr("width","100%").attr("height","100%"):null};$.each(b.feed.entry,function(a,b){c.push({id:b.id.$t,published:b.published.$t,updated:b.updated.$t,title:b.title.$t,content:b.content.$t,preview:null!==d(b.content.$t)?d(b.content.$t):e(b.content.$t),category:b.category,page:void 0!==b.sites$pageName?b.sites$pageName.$t:null,feeds:b.link,link:$.map(b.link,function(a,b){if("text/html"==a.type)return a.href})[0],author:$.map(b.author,function(a,b){return{name:m.ucwords(a.name.$t),email:a.email.$t}})}),1==c[a].author.length&&(c[a].author=c[a].author[0])}),a(c)},error:function(a,c,d){b(d)}})})}},{key:"get_ontologies",value:function(){return new h.default(function(a,b){function c(a,b){var c=a.split(" "),d={id:c[0],name:$.trim(a.replace(c[0],"")),icon:""};if(d.id.includes("-")){switch(d.name){case"General Germplasm Ontology":d.icon="picol_ontology";break;case"Phenotype and Trait Ontology":d.icon="picol_relevance";break;case"Solanaceae Phenotype Ontology":d.icon="picol_path";break;case"Structural and Functional Genomic Ontology":d.icon="picol_hierarchy";break;case"Location and Environmental Ontology":d.icon="picol_point_of_interest";break;case"Plant Anatomy & Development Ontology":d.icon="picol_copy"}return{category:d,ontologies:b}}return a}var d=[];$.ajax({type:"GET",url:"http://www.cropontology.org/get-ontologies",data:{alt:"json"},async:!0,crossDomain:!0,dataType:"json",success:function(b){$.each(b,function(a,b){var e=c(a,b);d.push(e)}),a(d)},error:function(a,c,d){b(d)}})})}},{key:"get_latest_ontologies",value:function(){return new h.default(function(a,b){$.ajax({type:"POST",url:"http://www.cropontology.org/latest",async:!0,crossDomain:!0,dataType:"json",success:function(b){a(b)},error:function(a,c,d){b(d)}})})}},{key:"get_ontologies_data",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"common/ontologies_data.json",dataType:"json",success:function(c){void 0!==c[a]&&b(c[a])},error:function(a,b,d){c(d)}})})}},{key:"get_ontology",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/get-ontology-roots/"+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a[0])},error:function(a,b,d){c(d)}})})}},{key:"get_ontology_attributes",value:function(a){var b=this;return new h.default(function(c,d){$.ajax({type:"GET",url:"http://www.cropontology.org/get-attributes/"+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){var d={};$.each(a,function(a,c){d[m.readable_data(c.key)]=m.camel_case_2_text(m.stripslashes(b.extract_name(c.value)))}),c(d)},error:function(a,b,c){d(c)}})})}},{key:"get_ontology_comments",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/get-comments-onto/?ontoId="+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"get_term_parents",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/get-term-parents/"+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"get_terms_variables",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/get-variables/"+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"get_terms_comments",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/get-comments?termId="+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"get_children",value:function(a){return new h.default(function(b,c){$.ajax({type:"GET",url:"http://www.cropontology.org/get-children/"+a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"get_login",value:function(){return new h.default(function(a,b){$.ajax({type:"GET",url:"http://www.cropontology.org/login",data:{alt:"json"},async:!0,crossDomain:!0,dataType:"json",success:function(b){a(void 0!==b.username&&""!==b.username?b:!1)},error:function(a,c,d){b(d)}})})}},{key:"get_user_logged",value:function(){if(n.logged)return!0;this.get_login().then(function(a){return a?(n=a,n.logged=!0):n.logged=!1,n.logged})}},{key:"get_user",value:function(a){return new h.default(function(b,c){$.isNumeric(a)?$.ajax({type:"GET",url:"http://www.cropontology.org/users/"+a,async:!0,dataType:"json",success:function(a){$.ajax({type:"GET",url:"https://en.gravatar.com/"+a.gravatar+".json",async:!0,dataType:"json",success:function(c){a.gravatar=c.entry[0],b(a)}})},error:function(a,b,d){c(d)}}):$.ajax({type:"GET",url:"http://www.cropontology.org/users",async:!0,crossDomain:!0,dataType:"json",success:function(d){$.each(d,function(d,e){e.username==a&&$.ajax({type:"GET",url:"http://www.cropontology.org/users/"+e.userid,async:!0,crossDomain:!0,dataType:"json",success:function(a){$.ajax({type:"GET",url:"https://en.gravatar.com/"+a.gravatar+".json",async:!0,crossDomain:!0,dataType:"json",success:function(c){a.gravatar=c.entry[0],b(a)}})},error:function(a,b,d){c(d)}})})},error:function(a,b,d){c(d)}})})}},{key:"log_user",value:function(a){return new h.default(function(b,c){$.ajax({type:"POST",url:"http://www.cropontology.org/login",data:a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"register_user",value:function(a){return new h.default(function(b,c){$.ajax({type:"POST",url:"http://www.cropontology.org/register",data:a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}},{key:"add_ontology",value:function(a){return new h.default(function(b,c){$.ajax({type:"POST",url:"http://www.cropontology.org/add-ontology",data:a,async:!0,crossDomain:!0,dataType:"json",success:function(a){b(a)},error:function(a,b,d){c(d)}})})}}]),a}();c.default=o},{"../../src/es6/_obj.es6":10,"../../src/es6/_str.es6":11,"es6-promise":5}],15:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"draw_filter",value:function(a,b){return $("<li>",{class:"tag "+a}).text(a+": "+b).append($("<a>",{href:"javascript:;",class:"tooltipped","data-position":"top","data-tooltip":$("<i>").text("Are you sure?").prop("outerHTML")}).append($("<span>",{class:"fa fa-times"})))}},{key:"build_modal",value:function(a){var b={id:"modal",title:"Modal Header",content:"Modal Content",ok_button:"Ok",cancel_button:"Cancel",fixed_footer:!0},c=$.extend({},b,a);$("body").prepend($("<div>",{id:c.id,class:"modal"+(c.fixed_footer?" modal-fixed-footer":"")}).append($("<div>",{class:"modal-content"}).append($("<h4>").text(c.title)).append(c.content)).append($("<div>",{class:"modal-footer"}).append($("<a>",{href:"javascript:;",class:"modal-action modal-close waves-effect waves-green btn-flat left"}).text(c.cancel_button)).append($("<a>",{href:"javascript:;",class:"modal-action modal-close waves-effect waves-green btn-flat right"}).text(c.ok_button))))}},{key:"add_filter_row",value:function(a){var b={id:"",name:"",placeholder:""},c=$.extend({},b,a);return $("<div>",{class:"row filter"}).append($("<div>",{class:"input-field col s2"}).append($("<p>").append($("<input>",{type:"checkbox",class:"filled-in",id:c.id})).append($("<label>",{for:c.id}).text(c.label)))).append($("<div>",{class:"input-field col s4"}).append($("<input>",{type:"text",name:c.name,placeholder:c.placeholder,disabled:!0})))}},{key:"filters_modal",value:function(){var a=$("<div>",{class:"row"}).append($("<form>",{class:"col s12"}).append(this.add_filter_row({id:"user_check",name:"user",label:"Users:",placeholder:"Type a username, name or last name..."})).append(this.add_filter_row({id:"type_check",name:"type",label:"Type:",placeholder:"Ontology type..."})));this.build_modal({id:"searchbar_filters",title:"Filters",content:a,fixed_footer:!1}),function(){$(".filter").each(function(a,b){var c=$(b).find("input[type='checkbox']"),d=$(b).find("input[type='text']");c.on("change",function(){c.is(":checked")?d.attr("disabled",!1).focus():d.attr("disabled",!0)})})}()}}]),a}();c.default=f},{}],16:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../../src/es6/data.es6"),i=d(h),j=a("../../src/es6/_navigation.es6"),k=d(j),l=a("../../src/es6/pagination.es6"),m=d(l),n=a("../../src/es6/_treeview.es6"),o=d(n),p=a("../../src/es6/filters.es6"),q=d(p),r=a("../../src/es6/modals.es6"),s=d(r),t=a("../../src/es6/_str.es6"),u=d(t),v=a("../../src/es6/loader.es6"),w=d(v),x=a("../../src/es6/pages/annotation_tool.es6"),y=d(x),z='<style>\nli {\n    margin-left: 15px;\n    list-style: none;\n}\n.api_left h2 {\n    margin-top: 30px !important;\n    padding-top: 30px !important;\n    color: #f28021 !important;\n}\n</style>\n<script>\n\n$(function(){\n\n    // replaces API urls for examples\n    $(".example").each(function() {\n        var $this = $(this);\n\n        var url = $this.parent().siblings().first().find("code").text();\n\n        var parameters = url.match(/{(.*?)}/g);\n\n        if(parameters) {\n            for(var i=0; i<parameters.length; i++) {\n                var par = parameters[i];\n                var clean = par.substring(1, par.length-1);\n                url = url.replace(par, $this.attr(clean));\n            }\n        }\n\n        $this.html("<a href=\'"+url+"\' target=\'_blank\'>"+url+"</a>");\n\n    });\n\n});\n\n<\/script>\n\n<div class="api_left">\n\n<p>\nThis is the official API for the Ontology Curation Tool. It allows you to programmatically retrieve and interact with Ontology data.\n</p>\n<p>\nTo let us gather feedback you can leave a comment using the form on the right.\n</p>\n<h2>Statistics on collected ontologies</h2>\n<li><strong>URL:</strong> <a target="_blank" href="http://www.cropontology.org/ontos_stats">http://www.cropontology.org/ontos_stats</a></li>\n<li><strong>Returns:</strong> JSON object with statistics about collected ontologies</li>\n\n<h2>API Data Types</h2>\n<p>\nData can be requested in JSON.<br> API calls follow the <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> semantics: create, retrieve, update and delete.\n</p>\n\n\x3c!--\n<h2>Retrieve all traits given an Ontology Name</h2>\n<ul>\n    <li>Here\'s a little code snippet written in <b>PHP</b> to show you how you can leverage this API to retrieve all the traits of a specific Ontology: <a href="https://gist.github.com/1322511">https://gist.github.com/1322511</a></li>\n</ul>\n--\x3e\n<h2>JSON DUMP</h2>\n<ul>\n    <li><strong>URL:</strong> <a target="_blank" href="https://github.com/bioversity/Crop-Ontology/blob/master/public/dump.json">https://github.com/bioversity/Crop-Ontology/blob/master/public/dump.json</a></li>\n    <li><strong>Returns:</strong> JSON array of *raw* objects inside database</li>\n</ul>\n\n<h2>Search Terms</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/search?q={query}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of objects matching the search query - each object being a term</li>\n    <li><strong>Example:</strong> <span class="example" query="stem rust"></span></li>\n</ul>\n\n<h2>Retrieve all Ontologies</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-ontologies</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> JSON Hierarchy of the Ontologies under each category</li>\n    <li><strong>Example:</strong> <span class="example"></span></li>\n</ul>\n<h2>Retrieve a specific Ontology</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-ontology/{ontologyId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n\t<li><strong>Returns:</strong> JSON representation of the ontology. </br><span style="font-style:italic;">NB: This call does not retrieve the variables that are present in TD template v5 (and in the OBO files derived from the TDv5)</span></li>\n    <li><strong>Example:</strong> <span class="example" ontologyId="CO_334"></span></li>\n</ul>\n<h2>Retrieve Ontology ID by its Name</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-ontology-id?ontology_name={ontology_name}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> ID of the ontology, to be used with <code>/get-ontology-roots/{id}</code></li>\n    <li><strong>Example:</strong> <span class="example" ontology_name="cassava"></span></li>\n</ul>\n\n<h2>Retrieve Categories</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-categories</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of strings - string being the name of the category that you pass to the <code>/ontologies</code> API call</li>\n    <li><strong>Example:</strong> <span class="example"></span></li>\n</ul>\n\n<h2>Retrieve Ontologies By Category</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/ontologies?category={category}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of objects; each one representing an ontology</li>\n    <li><strong>Example:</strong> <span class="example" category="010-089 General Germplasm Ontology"></span></li>\n</ul>\n\n<a name="rdf"></a>\n<h2>Retrieve Terms in RDF</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/rdf/{termId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> XML related RDF</li>\n    <li><strong>Example:</strong> <span class="example" termId="CO_321:0000118"></span></li>\n</ul>\n\n<h2>Retrieve Root Terms of an Ontology</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-ontology-roots/{ontologyId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of objects; each one representing a term</li>\n    <li><strong>Example:</strong> <span class="example" ontologyId="CO_020"></span></li>\n</ul>\n\n<h2>Retrieve Child Terms of parent Term</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-children/{parentId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of terms</li>\n    <li><strong>Example:</strong> <span class="example" parentId="CO_020:0000000"></span></li>\n</ul>\n<h2>Retrieve Parents of Term</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-term-parents/{termId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of the paths from the parent to child</li>\n    <li><strong>Example:</strong> <span class="example" termId="CO_020:0000000"></span></li>\n</ul>\n\n<h2>Retrieve Properties/Attributes of a Term</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-attributes/{termId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of objects representing the terms property</li>\n    <li><strong>Example:</strong> <span class="example" termId="CO_321:0000118"></span></li>\n</ul>\n\n<h2>Retrieve Comments of a Term</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-comments?termId={termId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Array of objects representing a comment</li>\n    <li><strong>Example:</strong> <span class="example" termId="CO_321:0000118"></span></li>\n</ul>\n\n<h2>Login - Retrieve a user\'s auth token (used for adding and editing ontologies)</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/login</code></li>\n    <li><strong>Method:</strong> <code>POST</code>. {username}, {password}</li>\n    <li><strong>Returns:</strong> HTTP response with a <code>user</code> cookie in the header that contains a <code>token</code>. You\'ll need to pass this cookie to subsequent requests that require authentication</li>\n</ul>\n\n<h2>Retrieve Logged-in User information</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/login</code></li>\n    <li><strong>Method:</strong> <code>GET</code>. Pass <code>user</code> cookie in request</li>\n    <li><strong>Returns:</strong> Object of the currently logged in user</li>\n</ul>\n\n<h2>Create Ontology</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/add-ontology</code></li>\n    <li><strong>Method:</strong> <code>POST</code>. Pass <code>user</code> cookie in request. {json} a JSON string representing a list of objects; each object being a term. {ontology_name}, {ontology_id}, {ontology_summary}</li>\n    <li><strong>Returns:</strong> HTTP error if something went wrong</li>\n</ul>\n\n\x3c!--\n<h2>Create Term</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/create-term</code></li>\n    <li><strong>Method:</strong> <code>POST</code>. {jsonTerm} a JSON representation of the term. You can call this method as many times as you need to build the structure of an ontology. Example: <code>{"ontology_id: "CO_22", "ontology_name": "Sorghum Trait", "parent": "CO_222:1122" ...}</code>. As you can see the <strong>parent</strong> property describes the relationship between terms. If parent is <i>null</i> then the term is a ROOT term</li>\n    <li><strong>Returns:</strong> HTTP error if something went wrong</li>\n</ul>\n--\x3e\n\n<h2>Delete Ontology</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/delete-ontology</code></li>\n    <li><strong>Method:</strong> <code>POST</code>. {ontologyID}</li>\n    <li><strong>Returns:</strong> HTTP error if something went wrong</li>\n</ul>\n\n<h2>Retrieve IB Fieldbook Default List</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/default-list/?ontologyId={ontologyId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> JSON of the default list of traits, methods and scales of an ontology ID</li>\n    <li><strong>Example:</strong> <span class="example" ontologyId="CO_334"></span></li>\n</ul>\n\n<h2>Retrieve Term Information</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-term/?id={termId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> Object representing a term information. Can be used to update the information of a given term when it is updated</li>\n    <li><strong>Example:</strong> <span class="example" termId="CO_321:0000118"></span></li>\n</ul>\n\n<h2>Retrieve all Comments from an Ontology</h2>\n<ul>\n    <li><strong>URL:</strong> <code>{{URL}}/get-comments-onto/?ontoId={ontologyId}</code></li>\n    <li><strong>Method:</strong> <code>GET</code></li>\n    <li><strong>Returns:</strong> a JSON object that lists the comments and the details about the comments\' authors. Comments are grouped by terms</li>\n    <li><strong>Example:</strong> <span class="example" ontologyId="CO_321"></span></li>\n</ul>\n\n</div>\x3c!-- /api_left --\x3e\n<div class="api_right" style="margin-top:40px">\n    <div id="disqus_thread"></div>\n    <script type="text/javascript">\n        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\n        var disqus_shortname = \'cropontologycurationtool\'; // required: replace example with your forum shortname\n\n        // The following are highly recommended additional parameters. Remove the slashes in front to use.\n        // var disqus_identifier = \'unique_dynamic_id_1234\';\n        // var disqus_url = \'http://example.com/permalink-to-page.html\';\n\n        /* * * DON\'T EDIT BELOW THIS LINE * * */\n        (function() {\n            var dsq = document.createElement(\'script\'); dsq.type = \'text/javascript\'; dsq.async = true;\n            dsq.src = \'http://\' + disqus_shortname + \'.disqus.com/embed.js\';\n            (document.getElementsByTagName(\'head\')[0] || document.getElementsByTagName(\'body\')[0]).appendChild(dsq);\n        })();\n    <\/script>\n    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>\n</div>\x3c!-- //api_right --\x3e\n',A=new i.default,B=new k.default,C=new m.default,D=new o.default,E=new q.default,F=new s.default,G=new u.default,H=new w.default,I=z.replace(/\{\{URL\}}/gim,window.location).replace(/((<style>)|(<style type=.+))((\s+)|(\S+)|(\r+)|(\n+))(.+)((\s+)|(\S+)|(\r+)|(\n+))(<\/style>)/g,""),J=new y.default,K=B.get_page(),L=a("../../common/settings/contents.json"),M=(a("../../common/settings/languages.json"),a("moment"));void 0==L[K]&&(K="404");var N=function(){function b(){f(this,b)}return g(b,[{key:"activate",value:function(){$("#static_contents a, .license a").each(function(a,b){$(b).prop("hostname")&&$(b).prop("hostname")!==location.hostname&&"www.cropontology.org"!==$(b).prop("hostname")&&$(b).not("a:has(img)").attr("rel","external")}),$("select").material_select(),$(".modal").modal({dismissible:!0,opacity:.8,ready:function(a,b){},complete:function(){}}),$(".button-collapse").sideNav({edge:"right",closeOnClick:!1});var a={};switch($("input.autocomplete").on("keyup",function(b){var c=new RegExp("[\\w\\d\\\\/\\-\\_\\p{L}]");$("input.autocomplete").val().length>3&&c.test(b.key)&&(H.create({type:"circular",size:"micro",colour:"yellow",target:"#search_loader"}),A.search($("input.autocomplete").val()).then(function(b){H.hide("#search_loader",!0),$.each(b,function(b,c){a["<small><tt>"+c.id+"</tt></small> - "+c.ontology_name+" - "+G.get_ontology_term(JSON.stringify(c.name))]=null}),$("input.autocomplete").autocomplete({data:a,minLength:3,limit:50,onAutocomplete:function(a){location.href="./terms/"+a.replace(/ \- (.*?) \- /g,"/")}}).blur().focus()}))}),$(".collapsible").collapsible(),$(".tooltipped").tooltip({html:!0}),$(".materialboxed").materialbox(),$(".parallax").parallax(),$(".tabs:not(.add-ontology)").tabs(),$("textarea.autoresize").trigger("autoresize"),K){case"home":H.create({target:".help",type:"progress"});break;case"ontology":H.create({target:"#contents",type:"progress"});break;case"register":$.validator.setDefaults({errorClass:"invalid",validClass:"valid",errorPlacement:function(a,b){$(b).closest("form").find("label[for='"+b.attr("id")+"']").attr("data-error",a.text())},submitHandler:function(a){0==grecaptcha.getResponse().length&&A.register_user($("#register_form").serializeObject()).then(function(a){void 0!==a.message?Materialize.toast('<span class="fa fa-2x fa-check grey-text"></span> '+a.message,2e3,"",function(){location.reload()}):($("#register_form :input").blur().removeClass("invalid").removeClass("valid"),Materialize.toast('<span class="fa fa-2x fa-times grey-text"></span> '+a.error,4e3))})}}),$("#register_form").validate({rules:{first_name:{required:!0},sirname:{required:!0},email:{required:!0,email:!0},username:{required:!0,minlength:2},password:{required:!0,minlength:5},confirm_password:{required:!0,minlength:5,equalTo:"#password"}},messages:{first_name:"Please specify your name",sirname:"Please specify your last name",email:{required:"Please specify an e-mail address",email:"Your email address must be in the format of name@domain.com"},username:{required:"Please insert an username",minlength:"Your username must consist of at least 2 characters"},password:{required:"Please insert a password",minlength:"Your password must be at least 5 characters long"},confirm_password:{required:"Please insert a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as before"}}});break;case"annotation-tool":new MStepper(document.querySelector(".stepper"),{firstActive:0,linearStepsNavigation:!0,autoFocusInput:!0});$("#clipboard").focus();var b,c;$(window).on("dragover",function(a){a.stopPropagation(),a.preventDefault();var c=a.originalEvent.dataTransfer;a.originalEvent.dataTransfer.dropEffect="copy",c.types&&(c.types.indexOf?-1!=c.types.indexOf("Files"):c.types.contains("Files"))&&($("#drop_area").fadeIn(150),window.clearTimeout(b))}).on("dragleave",function(a){b=window.setTimeout(function(){$("#drop_area").fadeOut(150)},1500)}),$("#drop_area").on("dragover",function(a){a.stopPropagation(),a.preventDefault(),a.originalEvent.dataTransfer.dropEffect="copy"}).on("drop",function(a){return c=a.originalEvent.dataTransfer.files,a.stopPropagation(),a.preventDefault(),b=window.setTimeout(function(){J.process_file(c)},25),!1}),$("#first_line_contains_titles").on("change",function(){$("#generate_btn").removeClass("disabled"),$("#step2 .step-title, #continue_btn").addClass("disabled")})}$(document).on("fscreenchange",function(a,b,c){"graph"==$(c).attr("id")&&(b?($(".fa-expand").removeClass("fa-expand").addClass("fa-compress"),$("#graph.fullscreen").find(".btn.fullscreen").attr("data-tooltip","Exit fullscreen").click(function(a){$.fullscreen.exit()})):($(".fa-compress").removeClass("fa-compress").addClass("fa-expand"),$("#graph.fullscreen").find(".btn.fullscreen").attr("data-tooltip","Show fullscreen")))})}},{key:"build_menu",value:function(b){var c=a("../../common/settings/menu.json");$.each(c,function(a,c){$("#"+b).append($.map(c[b].items,function(a,c){switch(b){case"top_menu":var d=a.is_sidenav_link?"":c>=6?" hide-on-med-and-down":" hide-on-small-only";if(void 0===a.label&&a.separator)switch($.type(a.separator)){case"boolean":return $("<li>",{class:d}).append($("<span>",{class:"separator"}));case"string":return $("<li>",{
class:"disabled black-text"+d}).append($("<span>").text(a.separator))}else if(a.display){var e=$("<li>").append($("<a>",{href:a.link,class:a.class+d}).append(function(){return a.is_sidenav_link?$("<i>",{class:"material-icons"}).text("menu"):a.label}));return void 0!==a.data&&$.each(a.data,function(a,b){e.find("a").attr("data-"+a,b)}),a.is_sidenav_link&&e.addClass("right show-on-medium-and-down"),e}break;case"bottom_links":$.each(a.items,function(c,d){d.display&&$("#"+b+" ."+a.position).append($("<a>",{class:"tooltipped",href:d.link,target:d.target,"data-tooltip":d.label}).append($("<img>",{class:"",src:"common/media/img/"+d.image})))});break;case"footer_menu":$("#"+a.position).prepend($("<h2>").html(a.title)),$("#"+a.position).append($("<ul>",{class:a.class})),$.each(a.items,function(b,c){$("#"+a.position).find("ul").append(function(){return c.display?$("<li>").append($("<a>",{href:c.link,target:c.target,"data-tooltip":c.label,class:"tooltipped"}).append(void 0!==c.icon?$("<span>",{class:c.icon}):c.label)):void 0!==c.separator?$("<li>",{class:"separator"}):void 0})});break;default:if(void 0===a.label&&a.separator)switch($.type(a.separator)){case"boolean":return $("<li>",{class:"divider"}).append($("<span>",{class:"separator"}));case"string":return $("<li>",{class:"disabled black-text"}).append($("<span>").text(a.separator))}else if(a.display)return $("<li>").append($("<a>",{href:a.link,class:a.class}).text(a.label))}}))})}},{key:"build_header",value:function(){$("body").prepend($("<header>").append($("<nav>",{class:"transparent z-depth-0"}).append($("<div>",{class:"nav-wrapper"}).append($("<a>",{href:"./",class:"brand-logo"}).append($("<img>",{src:"common/media/img/crop_ontology.png"}))).append($("<ul>",{id:"sidenav",class:"side-nav"}).append($("<li>",{class:"row-control"}).append($("<a>",{href:"javascript:;"}).append($("<i>",{class:"material-icons"}).text("close")).append("Close").click(function(){$(".button-collapse").sideNav("hide")})))).append($("<ul>",{id:"top_menu",class:"right"}))))),this.build_menu("sidenav"),this.build_menu("top_menu")}},{key:"build_carousel",value:function(){G.ucfirst(B.get_url_path()[B.get_url_path().length-1]);if(L.general.carousel.visible&&L[K].carousel.visible)$("body").append($("<section>",{id:"top_carousel",class:""}).append($("<div>",{class:"carousel carousel-slider center"}).append($("<div>",{class:"carousel-fixed-item container"}).append($("<div>",{class:"left"}).append(function(){return"404"==K?$("<h1>",{id:"page_subtitle"}).text(K):void 0!==L[K].subtitle&&""!==L[K].subtitle?$("<h1>",{id:"page_subtitle"}).text(L[K].subtitle):void 0}).append($("<h1>",{id:"page_title"}).text(L[K].title)))).append($.map(L[K].carousel.items,function(a){return $("<div>",{class:"carousel-item valign-wrapper",href:"#one"}).append(function(){if(""!==a.image)return $("<img>",{src:"common/media/img/carousel_images/"+a.image,class:"responsive-img"})}).append($("<h1>").html(G.nl2br(a.message).replace(/\[(.*?)\]/gm,'<span class="highlight">$1</span>')))})))),$(".carousel").carousel({duration:50,fullWidth:!0,indicators:!1}).animate({opacity:1},300),1==L[K].carousel.items.length&&$(".carousel").css("pointer-events","none"),L.general.carousel.animate&&L[K].carousel.items.length>1&&setInterval(function(){$(".carousel").carousel("next")},L.general.carousel.time);else{var a="",b="";switch(K){case"ontology":a=B.get_ontology_id(),b=G.camel_case_2_text(B.get_ontology_label());break;case"terms":a='<a href="./terms/CO_020">'+B.get_ontology_id()+"</a><small>:"+B.get_term_id()+"</small>",b=G.camel_case_2_text(B.get_term_label());break;default:a=L[K].title,b=L[K].subtitle}$("body").append($("<div>",{id:"ontology_card",class:"row container"}).append($("<h1>",{id:"page_subtitle"}).html(a)).append($("<h2>",{id:"page_title"}).text(b)))}}},{key:"build_searchbar",value:function(){if(L.general.search.visible){var a=$("<div>",{class:"bar"}).append($("<div>",{id:"search_input",class:"input-field",style:"width:100%;"}).append($("<input>",{type:"search",id:"search",autocomplete:"off",class:"autocomplete",placeholder:"Search...",name:"q"}))).append($("<div>",{id:"search_loader"})),b=$("<nav>",{class:"transparent z-depth-0"}).append($("<div>",{class:"nav-wrapper"}).append($("<div>",{class:"col s12 truncate"}).append($("<a>",{href:"./",class:"breadcrumb"}).append($("<span>",{class:"fas fa-home"}))).append(function(){if(!(B.get_url_path().length>1))return $("<span>",{class:"breadcrumb"}).text(G.ucfirst(B.get_page()));switch(K){case"ontology":return $("<span>",{class:"breadcrumb"}).html($("<tt>").append(B.get_ontology_id())).append(" ").append($("<span>",{class:"page_name"}).append(G.ucfirst(G.camel_case_2_text(B.get_ontology_label()))));case"terms":return $("<span>",{class:"breadcrumb"}).html($("<tt>").append(B.get_ontology_id()).append($("<small>").append(":"+B.get_term_id()))).append(" ").append($("<span>",{class:"page_name"}).append(G.ucfirst(G.camel_case_2_text(B.get_term_label()))));default:return $("<span>",{class:"breadcrumb"}).html(G.ucfirst(G.camel_case_2_text(B.get_page().replace(B.get_ontology_url_regex(":"),"<tt>$1</tt> $2"))))}})));"home"==K?$("body").append($("<section>",{id:"searchbar",class:"container"}).append($("<form>",{method:"get",onsubmit:"return false;"}).append($("<div>",{class:""}).append($("<div>",{class:"row"}).append(a).append(function(){if(L.general.search.tags.visible)return $("<div>",{id:"tags_list",class:"input-field col s4 m4 l4 xl4"}).append($("<ul>",{class:"tags"}).append(E.draw_filter("type","TRAIT")).append(E.draw_filter("user","MALAPORTE")))})).append(function(){if(L.general.search.filters.visible)return $("<a>",{href:"#searchbar_filters",class:"btn-text blue-text right modal-trigger"}).append($("<span>",{class:"fa fa-filter"})).append(" Add a filter")})))):$("body").append($("<section>",{id:"navbar",class:"container"}).append($("<div>",{class:"row"}).append($("<div>",{id:"searchbar",class:"col s12 m8 l6 right"}).append(a)).append($("<div>",{id:"breadcrumb",class:"col s12 m4 l6 left"}).append(b))))}}},{key:"build_halfway_menu",value:function(){L.general.halfway_menu.visible&&($("body").append($("<section>",{id:"halfway",class:""}).append($("<ul>",{id:"halfway_menu",class:"center horizontal"}))),this.build_menu("halfway_menu"))}},{key:"build_contents_section",value:function(){$("body").append($("<section>",{id:"contents",class:""}).append(function(){switch(K){case"home":return $("<div>",{class:"row"}).append($("<div>",{id:"ontologies_container",class:"col s12 m12 l8 xl8 right"}).append($("<div>",{class:"center-align"}).text(L.general.loader.text))).append($("<div>",{class:"col s12 m12 l4 xl4 left"}).append($("<div>",{class:"row"}).append($("<div>",{id:"info_container",class:"col s12 m12 l12 xl12"}).append($("<div>",{class:"card lighten-5"}).append($("<div>",{class:"card-content"}).append($("<span>",{class:"card-title highlight"})).append($("<div>",{class:"help"}).append())))).append($("<div>",{id:"feed_container",class:"col s12 m12 l12 xl12"}))));case"latest":return $("<div>",{class:"container"}).append($("<div>",{id:"ontologies_container",class:"col s12 m8 l8 xl8"}).append($("<div>",{class:"center-align"}).text(L.general.loader.text)));default:return $("<div>",{id:"page_content",class:"container"})}})),this.build_page_contents()}},{key:"build_page_contents",value:function(){var b;switch(A.get_user_logged(),F.user_modal("Login"),K){case"404":$("#contents .container").append($("<center>",{class:"flow-text"}).text("The page you are looking for does not exists"));break;case"home":A.get_help_content().then(function(a){L.home.sections.help.visible&&($("#info_container .card-title").append($("<small>",{class:"far fa-question-circle grey-text"})).append(" "+L.home.sections.help.title),$("#info_container .card-content .help").html(a[0].content.replace("<ul>",'<ul class="browser-default">')))}),A.get_community_website_feed().then(function(a){if(L.home.sections.news.visible){var b=[],c=[],d=(Math.ceil(parseInt(a.length)/L.home.sections.news.items_per_page),0),e=0;$.each(a,function(a,b){"announcement"==b.category[0].label&&(d++,d%parseInt(L.home.sections.news.items_per_page+1)==0&&e++,c.push({page:e,visible:0==e?"visible":"hide",title:b.title,preview:b.preview,author:$("<a>",{href:"mailto:"+b.author.email}).text(b.author.name).prop("outerHTML"),published:M(b.published).local().format("MMM DD, YYYY"),link:b.link,abstract:G.extract_text(b.content)+"<br />"}))}),$.each(c,function(a,c){b.push($("<div>",{class:"feed page_"+c.page+" "+c.visible}).append($("<div>",{class:"preview"}).append($("<a>",{href:c.link}).append($(c.preview)))).append($("<span>",{class:"card-title highlight"}).append($("<a>",{href:c.link}).text(c.title))).append($("<div>",{class:"release"}).append($("<span>",{class:"far fa-fw fa-clock"})).append($("<span>").html(" "+c.published+" by "+c.author))))}),$("#feed_container").append($("<div>",{class:"card z-depth-1"}).append($("<div>",{class:"card-content"}).append($("<div>",{class:"card-title highlight"}).append(L.home.sections.news.title))).append($("<div>",{class:"card-content"}).append(b)).append($("<div>",{class:"card-action right-align"}).append($("<a>",{class:"btn btn-flat highlight-btn",href:"https://sites.google.com/a/cgxchange.org/cropontologycommunity/"}).text("Read more...")))).slideDown(300)}}).catch(function(a){}),H.create({target:"#ontologies_container",type:"progress"}),A.get_ontologies().then(function(a){if(H.hide("#ontologies_container .progress",!0),L.home.sections.ontologies.visible){$("#ontologies_container").html($("<h5>").text("Ontologies")).append($("<ul>",{class:"collapsible z-depth-0","data-collapsible":"accordion"}));var b=parseInt(L.home.sections.ontologies.items_per_page);b<=0&&(b=1),$("#ontologies_container .collapsible").append($("<li>").append($("<div>",{class:"collapsible-header grey-text"}).append($("<div>",{class:"collapsible-secondary help-text"}).append($("<span>",{class:"fa fa-chevron-right"}))).append($("<div>",{class:"truncate"}).append($("<span>",{class:"picol_news"})).append("See latest")).click(function(){window.location.href="./latest"}))),$.each(a,function(a,c){var d=0,e=c.ontologies.length>b?Math.ceil(c.ontologies.length/b):1,f=0,g=$("<div>",{class:"ontology_pagination pagination-content"}),h=null;$("#ontologies_container .collapsible").append($("<li>",{class:3==a?"active":"",id:c.category.id}).append($("<div>",{class:"collapsible-header "+(3==a?"active":"")}).append($("<div>",{class:"collapsible-secondary help-text"}).append(c.ontologies.length+" "+G.pluralize(c.ontologies.length,"item")).append(function(){if(e>1){var a=$("<span>",{class:"tooltipped","data-tooltip":"Displaying page 1 of "+e+" - "+b+" items per page"}).append(" | ").append($("<span>",{class:"far fa-file-alt"})).append($("<span>",{id:"page_no",class:"grey-text"}).text(1)).append("/"+e).prop("outerHTML");return setTimeout(function(){$("#ontologies_container .tooltipped").tooltip({position:"left"})},1e3),a}})).append($("<div>",{class:"truncate"}).append($("<span>",{class:c.category.icon})).append($("<span>",{class:"tooltipped","data-tooltip":c.category.name,"data-position":"top"}).text(c.category.name)))).append($("<div>",{class:"collapsible-body"+(e>0?" paginated":"")}).append(function(){if(e>1)return g}).append($("<ul>",{id:"ontology_container"}).append($.map(c.ontologies,function(a,c){if((f=c+1)%b==1||1==b){d++;var g=1==d||1==e?"":"hide";h=$("<li>",{class:"ontology page_"+d+" "+g}).append($("<ul>",{class:"collection"}))}return h.find(".collection").append($("<li>",{class:"collection-item"}).append($("<a>",{href:"./ontology/"+a.ontology_id+":"+a.ontology_name.replace("/","-")}).append($("<h2>").append(a.ontology_name))).append($("<div>",{class:"secondary-content"}).append($("<a>",{class:"download tooltipped","data-position":"top","data-tooltip":"Ontology RSS","data-delay":"0",target:"_blank",href:"http://www.cropontology.org/ontology/"+a.ontology_id+"/"+a.ontology_name.replace("/","-")+"/rss"}).append($("<span>",{class:"fa fa-rss-square"}))).append($("<a>",{class:"download tooltipped","data-position":"top","data-tooltip":"RDF N-Triples","data-delay":"0",target:"_blank",href:"https://www.cropontology.org/ontology/"+a.ontology_id+"/"+a.ontology_name.replace("/","-")+"/nt"}).append($("<span>",{class:"picol_rdf_document"})))).append($("<span>",{class:"items_count"}).text(a.tot+" "+G.pluralize(a.tot,"item"))).append($("<p>").text(a.ontology_summary))),h}))).append(function(){if(e>1)return g.clone()}))).collapsible(),$("#"+c.category.id).find(".pagination-content").append(C.build_pagination({id:"ontology_pagination",context_class:c.category.id,content:"#ontology_container",items:".ontology",total_pages:e}))})}}).catch(function(a){});break;case"latest":H.create({target:"#ontologies_container",type:"progress"}),A.get_latest_ontologies().then(function(a){if(H.hide("#ontologies_container .progress",!0),L.latest.visible){$("#ontologies_container").html($("<ul>",{class:"collapsible z-depth-0","data-collapsible":"accordion"}));var b=parseInt(L.home.sections.ontologies.items_per_page);b<=0&&(b=1),$.each(a,function(a,b){$("#ontologies_container .collapsible").append($("<li>",{class:"latestOntos"==a?"active":"",id:a}).append($("<div>",{class:"collapsible-header "+("latestOntos"==a?"active":"")}).append($("<div>",{class:"left"}).append($("<span>").text(G.ucfirst(G.camel_case_2_text(a.replace("Ontos","Ontologies")))+" (top 10)")))).append($("<div>",{class:"collapsible-body"}).append($("<ul>",{id:"ontology_container"}).append($.map(b,function(b,c){var d="",e="",f="",g="",h="",i="";return"latestOntos"==a?(d=b.ontology_name,e="./ontology/"+b.ontology_id+":"+d.replace("/","-"),f="http://www.cropontology.org/ontology/"+b.ontology_id+"/"+d.replace("/","-")+"/rss",g="http://www.cropontology.org/ontology/"+b.ontology_id+"/"+d.replace("/","-")+"/nt",h=G.ucfirst(b.ontology_summary),i=b.username):(d=G.get_ontology_term(b.name),e="./terms/"+b.id+":"+d.replace("/","-"),f="http://www.cropontology.org/ontology/"+b.id+"/"+d.replace("/","-")+"/rss",g="http://www.cropontology.org/ontology/"+b.id.split(":")[0]+"/"+(null==b.ontology_name||"null"==b.ontology_name?"":b.ontology_name.replace("/","-"))+"/nt",h="",i=b.author),$("<ul>",{class:"collection"}).append($("<li>",{class:"collection-item"}).append($("<a>",{href:e}).append($("<h2>").append(d))).append($("<div>",{class:"secondary-content"}).append($("<a>",{class:"download tooltipped","data-position":"top","data-tooltip":"Ontology RSS","data-delay":"0",target:"_blank",href:f}).append($("<span>",{class:"fa fa-rss-square"})).tooltip()).append($("<a>",{class:"download tooltipped","data-position":"top","data-tooltip":"RDF N-Triples","data-delay":"0",target:"_blank",href:g}).append($("<span>",{class:"picol_rdf_document"})).tooltip())).append($("<a>",{href:"javascript:;",class:"tag green"}).text(i)).append(function(){if(h.length>0)return $("<p>").html(h)}))}))))).collapsible()})}});break;case"contact-us":case"contact us":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","contact_form").append($("<form>",{method:"get",onsubmit:"return false;"}).append($("<div>",{class:"row"}).append($("<form>",{class:"col s12 m6 offset-m3"}).append($("<div>",{class:"row"}).append($("<div>",{class:"input-field col s6"}).append($("<input>",{type:"text",id:"first_name",class:"validate"})).append($("<label>",{for:"first_name"}).text("First name"))).append($("<div>",{class:"input-field col s6"}).append($("<input>",{type:"text",id:"last_name",class:"validate"})).append($("<label>",{for:"last_name"}).text("Last name"))).append($("<div>",{class:"input-field col s12"}).append($("<input>",{type:"email",id:"email",class:"validate"})).append($("<label>",{for:"email"}).text("E-mail address")))).append($("<div>",{class:"row"}).append($("<div>",{class:"input-field col s10"}).append($("<input>",{type:"text",id:"subject",class:"validate"})).append($("<label>",{for:"subject"}).text("Subject"))).append($("<div>",{class:"input-field col s12"}).append($("<textarea>",{id:"message",class:"materialize-textarea"})).append($("<label>",{for:"message"}).text("Message"))).append($("<div>",{class:"g-recaptcha right","data-sitekey":"6LdssoIUAAAAAIQYYHDi_jMiGHylKTm7JpPiq1GY"}))).append($("<div>",{class:"row"}).append($("<a>",{class:"btn btn-flat right waves-effect waves-light",href:"javascript:;"}).text("Send"))))));break;case"about":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('<p>The Crop Ontology project is the creation of the Generation Challenge Programme (GCP, <a href="http://www.generationcp.org/">http://www.generationcp.org/</a> ), which understood from its inception the importance of controlled vocabularies and ontologies for the digital annotation of data.  In ontologies, terms bear a particular, logically defined relationship to each other, allowing computational reasoning on data annotated with a structured vocabulary. The volume of agriculture-related information and terminology related to phenotype, breeding, germplasm, pedigree, traits, among others, is increasing exponentially. In order to facilitate access to the data held within and/or across the databases, GCP initiated the development of Trait Dictionaries for breeders\' fieldbooks and a Crop Ontology (CO) to facilitate the harmonization of the data capture and powerful manipulations of the data through ontology-driven queries. This is a development that raised interest in CGIAR Centres and other communities, like the Gramene team developing the Plant Trait Ontology, ecologists and semantic web developers holding vast quantities of agriculture-related data. The project will continue the incremental validation and refinement of the Crop Ontology, which involves adding methods of trait measurement and experiments to enable the mapping of ontology terms onto measured, stored or published variables.The Crop Ontology is a key element of the Integrated Breeding Platform <a href="https://www.integratedbreeding.net/">https://www.integratedbreeding.net/</a></p>\n<a href="http://www.generationcp.org/" ><img src="common/media/img/gcp-logo.png?{{>VERSION}}" /></a>\n\n<h2>About the Crop Ontology</h2>\n\n<p>The Crop Ontology (CO) current objective is to compile validated concepts along with their inter-relationships on anatomy, structure and phenotype of Crops, on trait measurement and methods as well as on Germplasm with the multi-crop passport terms. The concepts of the CO are being used to curate agronomic databases and describe the data. The use of ontology terms to describe agronomic phenotypes and the accurate mapping of these descriptions into databases is important in comparative phenotypic and genotypic studies across species and gene-discovery experiments as it provides harmonized description of the data and therefore facilitates the retrieval of information.  Development of crop-specific trait ontologies and the germplasm ontologies began in 2008 for chickpea, maize, <em>Musa</em>, potato, rice and wheat, and in 2010 for cassava. The GCP Crop Ontology is a global public good, available to be used freely by all. </p>\n\n<h2>About the tool</h2>\n\n<p>This curation and annotation web site is a participatory tool that enables you to browse the Crop Ontology, search for specific terms and access the definition, as well as additional information. It is possible to post a suggestion at the level of a term and provide feedback on your experience using the site. Please, consult the video tutorials to get a visual explanation of the web site use.</p>\n\n<p>The Ontology curators are able to upload a full ontology in OBO format, create it online, add attribute information, and submit or delete terms from the Crop Ontology. Researchers can also submit/deposit trait names using the curation/annotation tool &lsquo;add an ontology&rsquo; to increment the tool&rsquo;s capacity. </p>\n\n<p>All lists can be downloaded and a web service API is available. The site is hosted on <a href="http://code.google.com/appengine">Google App Engine</a> and the versioned code is hosted on <a href="https://github.com/bioversity/Crop-Ontology">GitHub</a>.</p>\n\n<p>The tool is still under development, so your feedback will help to improve it. Please provide any comments or suggestions using the &lsquo;Feedback&rsquo; button.</p>\n\n<p>This work was greatly inspired by the Crop Ontology Look-up service developed by Martin Senger, consultant in Bioinformatics, and by Terminizer, online annotation tool developed by David Hancock, from the University of Manchester. </p>\n\n<p>Citation:\n&ldquo;Crop Ontology curation and annotation tool &ndash; 2011 Generation Challenge Programme, Bioversity International as project implementing agency.&rdquo;</p>\n\x3c!--\n<h2>Project partners in 2012</h2>\n\n<p>This work is primarily coordinated and undertaken by the lead institution, Bioversity International (hereafter referred to as Bioversity), and coordinated by Elizabeth Arnaud. Rosemary Shrestha (CIMMYT, Mexico) coordinates the CO community and its implementation in crop-specific databases.</p>\n\n<p>\nPrincipal Investigator &ndash; Elizabeth Arnaud (Bioversity International)\n</p>\n\n<p>\nCurators of the Crop-specific Ontology in 2012\n</p>\n\n<ul>\n<li>Barley - Flavio Capettini (ICARDA)</li>\n<li>Cassava - Bakare Moshood Agba  (IITA) </li>\n<li>Common Beans - Fabio Alberto Gerrera (CIAT)</li>\n<li>Chikpea and Groundnut, Sorghum and pigeon pea - Prasad Peteti, Praveen Reddy, Suyash Pati (ICRISAT)</li>\n<li>Cowpea - Sam Ofodile , Ousmane Boukare (IITA)</li>\n<li>Rice - Nikki Frances Borja (IRRI)</li>\n<li>Potato - Reinhard Simon (CIP)</li>\n<li>Maize and Wheat - Rosemary Shrestha (CIMMYT) - Global Ontology Coordinator until 2011/li>\n</ul>\n\n<p>\nScientists coordinating or actively contributing to the development of crop specific Trait Dictionaries and ontologies:\n</p>\n<ul>\n<li>Bioversity - Inge van den Bergh</li>\n<li>CIRAD - Jean FRancois Rami</li>\n<li>ICARDA - Sanjaya Gyawali,</li> Adnan al-Yassin, Mohamad Maatougui, S. Rajaram., Ahmed Amri, Fawzy Nawar</li>\n<li>ICRISAT - Trushar Shah, Eva Wietzel, Tom Hash</li>\n<li>IITA - Ousmane Boukare, Peter Kulakow, Antonio Lopes Montez </li>\n<li>CIAT - Steve Beebe, Rowland Chirwa</li>\n<li>IRRI- Mauleon Ramil, Ruaraidh Sackville Hamilton</li>\n\n<li>and the Crop Communities of Practice </li>\n</ul>\n\n<p><strong>Acknowledgements to</strong>: Adriana Alercia, (Bioversity International, Crop descriptors specialist), Richard Bruskiewich (GCP Bioinformatics, former project Principle Investigator, IRRI), Guy Davenport (GCP bioinformatics, CIMMYT), Graham McLaren (GCP sub-programme on Crop information system, Leader), Martin SENGER (GCP Bioinformatics, formerly IRRI)</p>\n--\x3e\n<h3>Articles</h3>\n<p>2012 - Shrestha Rosemary, Matteis Luca, Skofic Milko, Portugal Arlett, McLaren Graham, Hyman Glenn, Arnaud Elizabeth    - Bridging the phenotypic and genetic data useful for integrated breeding through a data annotation using the Crop Ontology developed by the crop communities of practice , in Frontiers in Physiology , vol.3, no.0326 <a href="http://www.frontiersin.org/Journal/Abstract.aspx?s=907&name=plant_physiology&ART_DOI=10.3389/fphys.2012.00326"> URL=http://www.frontiersin.org/Journal/Abstract.aspx?s=907&name=plant_physiology&ART_DOI=10.3389/fphys.2012.00326</a></p>\n<p>2012 - Elizabeth Arnaud, Laurel Cooper, Rosemary Shrestha, Naama Menda, Rex T. Nelson, Luca Matteis, Milko Skofic, Ruth Bastow, Pankaj Jaiswal, Lukas Mueller, Graham McLaren:  Towards a Reference Plant Trait Ontology For Modeling Knowledge of Plant Traits and Phenotypes in: proceedings of the 4th Conference on Knowledge Engineering and Ontology Development, 4-7 October 2012 , Spain.</p>\n<p>2010 - Rosemary Shrestha, Elizabeth Arnaud, Ramil Mauleon, Martin Senger, Guy F. Davenport, David Hancock, Norman Morrison, Richard Bruskiewich, and Graham McLaren - <strong>Multifunctional crop trait ontology for breeders\' data: field book, annotation, data discovery and semantic enrichment of the literature</strong>, AoB PLANTS (2010) Vol. 2010 first published online May 27, 2010 doi:10.1093/aobpla/plq008  - <a href="http://aobpla.oxfordjournals.org/citmgr?gca=aobpla;2010/0/plq008">http://aobpla.oxfordjournals.org/citmgr?gca=aobpla;2010/0/plq008</a></p>\n\n<h3>Book chapter</h3>\n<p>2011 - Shrestha Rosemary, Guy F Davenport, Richard Bruskiewich and Elizabeth Arnaud in : Monneveux Philippe and Ribaut Jean-Marcel, eds (2011). Drought phenotyping in crops: from theory to practice CGIAR Generation Challenge Programme, Texcoco, Mexico. ISBN: 978-970-648-178-8. 475pp. Chapter is: Development of crop ontology for sharing crop phenotypic information .</p>\n\n<h2>Posters</h2>\n\n<style>\n.posters a img {\n  border: 1px solid #ddd;\n  vertical-align: top;\n  margin-right: 20px;\n}\n</style>\n\n<p class="posters">\n  <a href="common/media/pdf/GRM_poster_Curation_annotation_tools.pdf"><img class="responsive-img" src="common/media/img/posters/GRM_poster_Curation_annotation_tools.png" /></a>\n  <a href="common/media/pdf/Hyderabad_Sept_2011_CassavaTraitOntologyPoster.pdf"><img class="responsive-img" src="common/media/img/posters/Hyderabad_Sept_2011_CassavaTraitOntologyPoster.png" /></a>\n  <a href="common/media/pdf/Poster_GCP_GRM_Musa.pdf"><img class="responsive-img" src="common/media/img/posters/Poster_GCP_GRM_Musa.png" /></a>\n  <a href="common/media/pdf/biocuration2012-poster.pdf"><img class="responsive-img" src="common/media/img/posters/biocuration_thumb.png" /></a>\n</p>\n');break;case"privacy-policy":case"privacy policy":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('\n\n<h2>Photo credit</h2>\n<ul>\n    <li>Neil Palmer, CIAT via Flickr (<a href="https://www.flickr.com/photos/CIAT/albums">https://www.flickr.com/photos/CIAT/albums</a>)</li>\n    <li>Bioversity International via Flickr (<a href="https://www.flickr.com/photos/bioversity/albums">https://www.flickr.com/photos/bioversity/albums</a>)</li>\n    <li>Freepik (<a href="https://www.freepik.com/free-photo/golden-color-wheat-ear-in-front-of-white-wooden-wall_2741083.htm#term=wheat&page=1&position=41">https://www.freepik.com/free-photo/golden-color-wheat-ear-in-front-of-white-wooden-wall_2741083.htm#term=wheat&page=1&position=41</a>)</li>\n</ul>\n');break;case"api":case"API":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append(I);break;case"help":
$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('\n<h2>Video Tutorials</h2>\n<style type="text/css"> \n    \n \n    \n \n#ytvideo,\n#ytvideo2 {\n    float: left;\n    margin-right:10px;\n}\n \n \n.yt_holder {\n    background: #f3f3f3;\n    padding: 10px;\n    float: left;\n    border: 1px solid #e3e3e3;\n    margin-bottom:15px;\n}\n \n \nul {\n    float: left;\n    margin: 0;\n    padding: 0;\n    width: 220px;\n}\n \nul li {\n    list-style-type: none;\n    display:block;\n    background: #f1f1f1;\n    float: left;\n    width: 216px;\n    margin-bottom: 5px;\n    padding:2px;\n \n}\n \nul li img {\n    width: 120px;\n    float: left;\n    margin-right: 5px;\n    border: 1px solid #999;\n}\n \nul li a {\n    text-decoration: none;\n    display: block;\n    color: #000;\n}\n \n.currentvideo {\n    background: #e6e6e6;\n}\n    \n \n    \n</style> \n<script>\n//-------------------------------------------------\n//      youtube playlist jquery plugin\n//      Created by dan@geckonm.com\n//      www.geckonewmedia.com\n//\n//      v1.1 - updated to allow fullscreen \n//           - thanks Ashraf for the request\n//-------------------------------------------------\n\njQuery.fn.ytplaylist = function(options) {\n \n  // default settings\n  var options = jQuery.extend( {\n    holderId: \'ytvideo\',\n    playerHeight: \'300\',\n    playerWidth: \'450\',\n    addThumbs: false,\n    thumbSize: \'small\',\n    showInline: false,\n    autoPlay: true,\n    showRelated: true,\n    allowFullScreen: false\n  },options);\n \n  return this.each(function() {\n                            \n        var selector = $(this);\n        \n        var autoPlay = "", autoHide = "", hd = "", modestBranding = "", showInfo = "&showinfo=0";\n        var showRelated = "&rel=0";\n        var fullScreen = "";\n        if(options.autoPlay) autoPlay = "&autoplay=1"; \n        if(options.showRelated) showRelated = "&rel=1"; \n        if(options.allowFullScreen) fullScreen = "&fs=1"; \n        if(options.autoHide) autoHide = "&autohide=1";\n        if(options.hd) hd = "&hd=1";\n        if(options.modestBranding) modestBranding = "&modestbranding=1";\n        if(options.showInfo) showInfo = "&showinfo=1";\n\n        var params = autoPlay+showRelated+fullScreen+autoHide+hd+modestBranding+showInfo;\n        \n        //throw a youtube player in\n        function play(id)\n        {\n           var html  = \'\';\n    \n           html += \'<object height="\'+options.playerHeight+\'" width="\'+options.playerWidth+\'">\';\n           html += \'<param name="movie" value="http://www.youtube.com/v/\'+id+params+\'"> </param>\';\n           html += \'<param name="wmode" value="transparent"> </param>\';\n           if(options.allowFullScreen) { \n                html += \'<param name="allowfullscreen" value="true"> </param>\'; \n           }\n           html += \'<embed src="http://www.youtube.com/v/\'+id+params+\'"\';\n           if(options.allowFullScreen) { \n                html += \' allowfullscreen="true" \'; \n            }\n           html += \'type="application/x-shockwave-flash" wmode="transparent"  height="\'+options.playerHeight+\'" width="\'+options.playerWidth+\'"></embed>\';\n           html += \'</object>\';\n            \n           return html;\n           \n        };\n        \n        \n        //grab a youtube id from a (clean, no querystring) url (thanks to http://jquery-howto.blogspot.com/2009/05/jyoutube-jquery-youtube-thumbnail.html)\n        function youtubeid(url) {\n            var ytid = url.match("[\\\\?&]v=([^&#]*)");\n            ytid = ytid[1];\n            return ytid;\n        };\n        \n        \n        //load inital video\n        var firstVid = selector.children("li:first-child").addClass("currentvideo").children("a").attr("href");\n        $("#"+options.holderId+"").html(play(youtubeid(firstVid)));\n        \n        //load video on request\n        selector.children("li").children("a").click(function() {\n            \n            if(options.showInline) {\n                $("li.currentvideo").removeClass("currentvideo");\n                $(this).parent("li").addClass("currentvideo").html(play(youtubeid($(this).attr("href"))));\n            }\n            else {\n                $("#"+options.holderId+"").html(play(youtubeid($(this).attr("href"))));\n                $(this).parent().parent("ul").find("li.currentvideo").removeClass("currentvideo");\n                $(this).parent("li").addClass("currentvideo");\n            }\n                                                             \n            \n            \n            return false;\n        });\n        \n        //do we want thumns with that?\n        if(options.addThumbs) {\n            \n            selector.children().each(function(i){\n                                              \n                var replacedText = $(this).text();\n                \n                if(options.thumbSize == \'small\') {\n                    var thumbUrl = "http://img.youtube.com/vi/"+youtubeid($(this).children("a").attr("href"))+"/2.jpg";\n                }\n                else {\n                    var thumbUrl = "http://img.youtube.com/vi/"+youtubeid($(this).children("a").attr("href"))+"/0.jpg";\n                }\n                \n                \n                $(this).children("a").empty().html("<img src=\'"+thumbUrl+"\' alt=\'"+replacedText+"\' />"+replacedText).attr("title", replacedText);\n                \n            }); \n            \n        }\n            \n        \n   \n  });\n \n};\n\n<\/script>\n\n<script type="text/ecmascript"> \n    \n        $(function() {\n            $("ul.demo2").ytplaylist({\n                addThumbs:true, \n                autoPlay: false, \n                holderId: \'ytvideo2\',\n                playerWidth: 660,\n                playerHeight: 500,\n                autoHide: true,\n                allowFullScreen: true,\n                hd: true,\n                modestBranding: true,\n                showRelated: false\n\n            });\n        });\n    \n<\/script> \n <div class="yt_holder"> \n    <div id="ytvideo2"></div> \n    <ul class="demo2"> \n        <li><a href="http://www.youtube.com/watch?v=ani1SWy1N-g">Homepage Navigation</a></li> \n        <li><a href="http://www.youtube.com/watch?v=GiADgYlwmGI">Login & Registration</a></li> \n        <li><a href="http://www.youtube.com/watch?v=E67xYagMYe0">Search</a></li> \n        <li><a href="http://www.youtube.com/watch?v=-5j7AeuFT1A">OBO Upload</a></li> \n        <li><a href="http://www.youtube.com/watch?v=HMaQgKPrpwo">Create New Ontology</a></li> \n        <li><a href="http://www.youtube.com/watch?v=-aLr_E-JuSM">API & Feedback</a></li> \n        <li><a href="http://www.youtube.com/watch?v=TLo4GpuXHn4">General Navigation</a></li> \n    </ul> \n</div>\n\n');break;case"login":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('\n<form method="post" id="login_form" action="http://www.cropontology.org/login">\n    <div class="container">\n        <div class="row">\n            <div class="col s6 offset-s2">\n                <div class="context-loader" style="display: none; top:0px;">Sending Request...</div>\n                <div class="error_box" style="display: none;">Incorrect login or password.</div>\n                <h1>Login</h1>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="input-field col s6 offset-s2">\n                <input type="text" value="" tabindex="1" name="username" id="log_username" class="text">\n                <label for="log_username">Username</label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s6 offset-s2">\n                <input type="password" value="" tabindex="2" name="password" id="log_password" class="text">\n                <label for="log_password">Password</label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s6 offset-s2">\n                <a href="./forgot-password">Forgot Password?</a>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s6 offset-s2">\n                <input type="submit" value="Log in" tabindex="3" name="commit" class="btn btn-flat green white-text waves-effect waves-light right">\n            </div>\n        </div>\n    </div>\n</form>\n');break;case"register":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('\n<form id="register_form" action="" novalidate="novalidate">\n    <div class="container">\n        <div class="row">\n            <div class="input-field col s6 required">\n                <input type="text" value="" tabindex="1" name="first_name" id="first_name" class="text">\n                <label for="first_name">First name</label>\n            </div>\n            <div class="input-field col s6 required">\n                <input type="text" value="" tabindex="2" name="sirname" id="sirname" class="text">\n                <label for="sirname">Last name</label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s12">\n                <input type="text" value="" tabindex="3" name="institution" id="institution" class="text">\n                <label for="institution">Host institution</label>\n            </div>\n        </div>\n        <br />\n        <div class="row">\n            <div class="input-field col s11 required">\n                <input type="email" value="" tabindex="4" name="email" id="email" class="text">\n                <label for="email">Email address</label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s4 required">\n                <input type="text" value="" tabindex="5" name="username" id="reg_username" class="text">\n                <label for="reg_username">Username</label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s4 required">\n                <input type="password" value="" tabindex="6" name="password" id="password" class="text">\n                <label for="password">Password</label>\n            </div>\n            <div class="input-field col s4 required">\n                <input type="password" value="" tabindex="6" name="confirm_password" id="confirm_password" class="text">\n                <label for="confirm_password">Repeat password</label>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="input-field col s10">\n                <center>\n                    <div class="g-recaptcha" data-sitekey="6LdssoIUAAAAAIQYYHDi_jMiGHylKTm7JpPiq1GY"></div>\n                </center>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="input-field col s12">\n                <button type="submit" tabindex="7" name="commit" class="btn btn-flat green white-text waves-effect waves-light right">Register</button>\n            </div>\n        </div>\n    </div>\n</form>\n');break;case"forgot-password":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('\n<form method="post" id="login_form" action="http://www.cropontology.org/forgot-password">\n    <div class="container">\n        <div class="row">\n            <div class="col s6 offset-s2">\n                <h1>Forgot Password?</h1>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="input-field col s6 offset-s2">\n                <input type="email" value="" tabindex="1" style="width: 21em;" name="email" id="email" class="text">\n                <label for="email">Please enter your Email</label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-field col s6 offset-s2">\n                <input type="submit" value="Recover" tabindex="3" name="commit" class="btn btn-flat green white-text waves-effect waves-light right">\n            </div>\n        </div>\n    </div>\n</form>\n');break;case"feedback":$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append("    <div id=\"disqus_thread\"></div>\n    <script type=\"text/javascript\">\n        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\n        var disqus_shortname = 'cropontologycurationtool'; // required: replace example with your forum shortname\n\n        // The following are highly recommended additional parameters. Remove the slashes in front to use.\n        // var disqus_identifier = 'unique_dynamic_id_1234';\n        // var disqus_url = 'http://example.com/permalink-to-page.html';\n\n        /* * * DON'T EDIT BELOW THIS LINE * * */\n        (function() {\n            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\n            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';\n            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\n        })();\n    <\/script>\n    <noscript>Please enable JavaScript to view the <a href=\"http://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n");break;case"add-ontology":var c=0,d=function a(b,d,e,f){var g={};if("cont"!==d.attr("id")){var h=d.find("input[name=name]:first").val();g={id:e+":"+c++,name:h,parent:f},b.push(g)}d.children("ul").each(function(c,d){a(b,$(d),e,g.id||null)})};$("#contents").addClass("coloured grey lighten-5").find(".container").attr("id","static_contents").append('<h1>Add Ontology</h1>\n\n<div id="error"></div>\n\n<div class="row">\n    <div class="col s12">\n        <ul class="tabs add-ontology">\n            <li class="tab col s4">\n                <a class="active tooltipped" href="#upload_excel" data-tooltip="Upload an Excel Trait Template" data-position="top">\n                    <span class="hide-on-med-and-down"><span class="fa fa-upload"></span> Upload an Excel Trait Template</span>\n                    <span class="show-on-medium-and-up"><span class="fa fa-upload"></span> Excel</span>\n                </a>\n            </li>\n            <li class="tab col s4">\n                <a class="tooltipped" href="#upload_obo" data-tooltip="Upload an OBO File" data-position="top">\n                    <span class="hide-on-med-and-down"><span class="picol_rdf_document"></span> Upload an OBO File</span>\n                    <span class="show-on-medium-and-up"><span class="picol_rdf_document"></span> OBO</span>\n                </a>\n            </li>\n            <li class="tab col s4">\n                <a class="tooltipped" href="#create_ontology" data-tooltip="Create an Ontology" data-position="top">\n                    <span class="hide-on-med-and-down"><span class="picol_rdf"></span> Create an Ontology</span>\n                    <span class="show-on-medium-and-up"><span class="picol_rdf"></span> Ontology</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div id="add_ontology_tab_contents">\n        \x3c!-- Upload an Excel Trait Template content --\x3e\n        <div id="upload_excel" class="col s12">\n            <div class="tab-content">\n                <div id="upload_excel_cont" style="display: block;">\n                    <p><b>Note:</b> be sure your template is structured exactly like the latest standard Trait Template which can be found here: <a href="http://www.cropontology.org/TD_template_v5.xls">Trait Dictionary template version 5</a></p>\n\n                    <div class="container">\n                        <form action="" method="post" enctype="multipart/form-data" target="excel_upload_iframe">\n                            <div class="row">\n                                <div class="input-field col s12 m8">\n                                    Category:\n                                    <select name="category">\n                                        <option value="010-089 General Germplasm Ontology">010-089 General Germplasm Ontology</option>\n                                        <option value="090-099 Taxonomic Ontology">090-099 Taxonomic Ontology</option>\n                                        <option value="100-299 Plant Anatomy &amp; Development Ontology">100-299 Plant Anatomy &amp; Development Ontology</option>\n                                        <option value="300-499 Phenotype and Trait Ontology" selected="">300-499 Phenotype and Trait Ontology</option>\n                                        <option value="500-699 Structural and Functional Genomic Ontology">500-699 Structural and Functional Genomic Ontology</option>\n                                        <option value="700-799 Location and Environmental Ontology">700-799 Location and Environmental Ontology</option><option value="800-899 General Science Ontology">800-899 General Science Ontology</option><option value="900-999 Other (Sub-domain or Site-Specific) Ontology">900-999 Other (Sub-domain or Site-Specific) Ontology</option>\n                                    </select>\n                                </div>\n                                <div class="input-field col s5">\n                                    <input type="text" name="ontology_id" id="ontology_id">\n                                    <label for="ontology_id">Ontology ID</label>\n                                </div>\n                                <div class="input-field col s7">\n                                    <input type="text" name="ontology_name" id="ontology_name">\n                                    <label for="ontology_name">Ontology Name</label>\n                                </div>\n                                <div class="input-field col s12 m10">\n                                    <textarea class="materialize-textarea" name="ontology_summary" id="ontology_summary"></textarea>\n                                    <label for="ontology_summary">Ontology Summary</label>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="input-field col s8">\n                                    <div class="file-field input-field">\n                                        <div class="btn btn-flat highlight-btn">\n                                            <span>Browse...</span>\n                                            <input name="excelfile" type="file">\n                                        </div>\n                                        <div class="file-path-wrapper">\n                                            <input class="file-path validate" type="text">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="input-field col s12">\n                                    <input class="btn btn-highlight waves-effect waves-light right" type="submit" value="Upload Excel">\n                                </div>\n                            </div>\n                        </form>\n                        <iframe name="excel_upload_iframe" style="display: none"></iframe>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!-- Upload an OBO File content --\x3e\n        <div id="upload_obo" class="col s12">\n            <div class="tab-content">\n                <div id="upload_obo_cont" style="display: block;">\n                    <div class="container">\n                        <form action="" method="post" enctype="multipart/form-data" target="obo_upload_iframe">\n                            <div class="row">\n                                <div class="input-field col s12 m8">\n                                    Category:\n                                    <select name="category">\n                                        <option value="010-089 General Germplasm Ontology">010-089 General Germplasm Ontology</option>\n                                        <option value="090-099 Taxonomic Ontology">090-099 Taxonomic Ontology</option>\n                                        <option value="100-299 Plant Anatomy &amp; Development Ontology">100-299 Plant Anatomy &amp; Development Ontology</option>\n                                        <option value="300-499 Phenotype and Trait Ontology" selected="">300-499 Phenotype and Trait Ontology</option>\n                                        <option value="500-699 Structural and Functional Genomic Ontology">500-699 Structural and Functional Genomic Ontology</option>\n                                        <option value="700-799 Location and Environmental Ontology">700-799 Location and Environmental Ontology</option>\n                                        <option value="800-899 General Science Ontology">800-899 General Science Ontology</option>\n                                        <option value="900-999 Other (Sub-domain or Site-Specific) Ontology">900-999 Other (Sub-domain or Site-Specific) Ontology</option>\n                                    </select>\n                                </div>\n                                <div class="input-field col s12 m5">\n                                    <input type="text" name="ontology_name" id="ontology_name">\n                                    <label for="ontology_name">Ontology Name</label>\n                                </div>\n                                <div class="input-field col s12 m10">\n                                    <textarea class="materialize-textarea" name="ontology_summary" id="ontology_summary"></textarea>\n                                    <label for="ontology_summary">Ontology Summary</label>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="input-field col s12 m8">\n                                    <div class="file-field input-field">\n                                        <div class="btn btn-flat highlight-btn">\n                                            <span>Browse...</span>\n                                            <input name="obofile" type="file">\n                                        </div>\n                                        <div class="file-path-wrapper">\n                                            <input class="file-path validate" type="text">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="input-field col s12">\n                                    <input class="btn btn-highlight waves-effect waves-light right" type="submit" value="Upload OBO">\n                                </div>\n                            </div>\n                        </form>\n                        <iframe name="obo_upload_iframe" style="display: none"></iframe>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!-- Create an Ontology --\x3e\n        <div id="create_ontology" class="col s12">\n            <div class="tab-content">\n                <div id="create_ontology_cont" style="">\n                    <p><b>Note:</b> this feature is not fully supported. For instance, deleting terms or term attributes is not possible.</p>\n\n                    <div class="container">\n                        <form>\n                            <div class="row">\n                                <div class="input-field col s12 m8">\n                                    Category:\n                                    <select name="category">\n                                        <option value="010-089 General Germplasm Ontology">010-089 General Germplasm Ontology</option>\n                                        <option value="090-099 Taxonomic Ontology">090-099 Taxonomic Ontology</option>\n                                        <option value="100-299 Plant Anatomy &amp; Development Ontology">100-299 Plant Anatomy &amp; Development Ontology</option>\n                                        <option value="300-499 Phenotype and Trait Ontology" selected="">300-499 Phenotype and Trait Ontology</option>\n                                        <option value="500-699 Structural and Functional Genomic Ontology">500-699 Structural and Functional Genomic Ontology</option>\n                                        <option value="700-799 Location and Environmental Ontology">700-799 Location and Environmental Ontology</option>\n                                        <option value="800-899 General Science Ontology">800-899 General Science Ontology</option>\n                                        <option value="900-999 Other (Sub-domain or Site-Specific) Ontology">900-999 Other (Sub-domain or Site-Specific) Ontology</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col s12">\n                                    <ul class="treeview form" id="cont">\n                                        <li class="last" id="ontology">\n                                            <div class="item">\n                                                <div class="input-field col s8 m4 l4">\n                                                    <input type="text" id="ontology_name" name="name" placeholder="Ontology Name">\n                                \t\t\t\t\t<input id="ontology_version" name="ontology_version" type="hidden" min="1" size="5" min="1" value="" placeholder="Ontology version" />\n                                                </div>\n                                                <div class="input-field col s3 m3">\n                                                    <input type="text" id="ontology_id" name="id", placeholder="Ontology ID">\n                                                </div>\n                                                <div class="col s11 m4">\n                                                    <div class="row">\n                                                        <div class="input-field col s12">\n                                                            <input type="text" id="ontology_summary" name="ontology_summary" placeholder="Ontology Summary">\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class="input-field col s1">\n                                                    <a id="add_childs_btn" class="btn btn-highlight btn-small btn-floating waves-effect waves-circle waves-light tooltipped" data-tooltip="Add childs" data-position="top">\n                                                        <span class="fa fa-plus"></span>\n                                                    </a>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="input-field col s12">\n                                    <a id="save" class="btn btn-highlight waves-effect waves-light right">Save</a>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n'),$(".tooltipped").tooltip(),$("#add_childs_btn").on("click",function(a){var b=$("<ul>",{class:"treeview form"}).append($("<li>",{class:"term"}).append($("<div>",{class:"item valign-wrapper"}).append($("<div>",{class:"input-field col s5"}).append($("<input>",{type:"text",name:"name",placeholder:"Term Name"}))).append($("<div>",{class:"input-field col s5"}).append($("<input>",{type:"text",name:"relation_name",placeholder:"Relation Name"}))).append($("<div>",{class:"col s1"}).append($("<a>",{class:"btn btn-mini add",href:"javascript:;",tabindex:"-1"}).append($("<span>",{class:"fa fa-plus"}))).append($("<a>",{class:"btn btn-mini remove",href:"javascript:;",tabindex:"-1"}).append($("<span>",{class:"fa fa-minus"}))))));$("#cont").append(b),$("#cont").find("ul:last-child li:last-child input:first").focus(),$(".btn-mini.add").unbind().on("click",function(a){var c=b.clone(!0);c.find("input").val(""),$(a.target).closest("ul").last().append(c),$(a.target).closest("ul").last().find("li").last().find("input:first").focus()}),$(".btn-mini.remove").unbind().on("click",function(a){confirm("Are you sure you want to remove this term and all its children?")&&$(a.target).closest("ul").last().remove()}),a.preventDefault(),a.stopPropagation()}),$("#save").click(function(a){var b=[],c=$.trim($("form:visible").find("#ontology_id").val());d(b,$("#cont"),c);var e={ontology_name:$.trim($("form:visible").find("#ontology_name").val()),ontology_version:void 0!==i.default.ontology_version?i.default.ontology_version+1:1,ontology_id:$.trim($("form:visible").find("#ontology_id").val()),ontology_summary:$.trim($("form:visible").find("#ontology_summary").val()),category:$.trim($("form:visible").find("#create_ontology_cont select[name=category]").val()),json:JSON.stringify(b)};if(""==$.trim(e.ontology_name)||void 0==e.ontology_name||""==e.ontology_id||void 0==e.ontology_id)return void $("#error").text("Please insert the name of Ontology and its ID").fadeIn();A.get_ontology(c).then(function(b){$("#error").fadeOut(),A.add_ontology(e).then(function(a){window.location.href="/"},function(a){$("#error").html($(a.responseText).text()).fadeIn()}),a.preventDefault(),a.stopPropagation()})}),setTimeout(function(){A.get_ontology_upload_url().then(function(a){$("#add_ontology_tab_contents .col.active form").attr("action",a)})},100),$(".tabs").tabs({onShow:function(a){A.get_ontology_upload_url().then(function(a){$("#add_ontology_tab_contents .col.active form").attr("action",a)})}});break;case"ontology":case"terms":;F.download_ontology_modal(),A.get_ontologies_data(B.get_ontology_id()).then(function(a){$("#ontology_card").html($("<div>",{class:"col s4 m3 l2"}).append($("<img>",{class:"crop_pict responsive-img",src:a.ontology_picture}))).append($("<div>",{class:"col s8 m9 l10"}).append($("<h1>",{id:"page_subtitle"}).append(B.get_ontology_id()).append(void 0!==B.get_term_id()?"<small>:"+B.get_term_id()+"</small>":"")).append($("<h2>",{id:"page_title"}).append(function(){})).append($("<table>",{class:"responsive-table hide-on-small-only"}).append($("<thead>").append($("<tr>").append($("<th>").text("Ontology curators")).append($("<th>").text("Scientists")).append($("<th>",{class:"center"}).text("Crop Lead Center")).append($("<th>",{class:"center"}).text("Partners")).append($("<th>",{class:"center"}).text("CGIAR research program")))).append($("<tbody>").append($("<td>").append(function(){if(a.ontology_curators.length>0&&""!==a.ontology_curators[0])return $("<ul>",{class:"browser-default"}).append($.map(a.ontology_curators,function(a,b){return $("<li>").append(a)}))})).append($("<td>").append(function(){if(a.scientists.length>0&&""!==a.scientists[0])return $("<ul>",{class:"browser-default"}).append($.map(a.scientists,function(a,b){return $("<li>").append(a)
}))})).append($("<td>",{class:"center"}).append(function(){if(a.lead_centers.length>0)return $("<div>").append($.map(a.lead_centers,function(a,b){if(a.image){var c=G.is_url(a.image)?a.image:"common/media/img/"+a.image;return $("<a>",{href:a.link,target:"_blank"}).append($("<img>",{src:c}))}})).html()})).append($("<td>",{class:"center"}).append(function(){if(a.partners.length>0)return $("<div>").append($.map(a.partners,function(a,b){if(a.image){var c=G.is_url(a.image)?a.image:"common/media/img/"+a.image;return $("<a>",{href:a.link,target:"_blank"}).append($("<img>",{src:"common/media/img/"+c}))}})).html()})).append($("<td>",{class:"center"}).append(function(){if(a.cgiar_research_program.length>0)return $("<div>").append($.map(a.cgiar_research_program,function(a,b){return $("<a>",{href:a.link,target:"_blank"}).append($("<img>",{src:"common/media/img/"+a.image}))})).html()})))))}),A.get_ontology(B.get_ontology_id()).then(function(a){H.hide("#contents .progress");var b=G.get_ontologies_languages(a.name),c=G.get_ontology_term(a.name);$(".page_name").text(c),$("#page_title").html(c),$("#ontology_tree .languages_refresh select").append($.map(b,function(a){return $("<option>",{value:a.toLowerCase(),selected:a.toLowerCase()==L.general.language}).text(a)})).material_select(),D.add_items({item:"#treeview",source:a,term:"<tt>"+B.get_ontology_id()+"</tt> - "+G.get_ontology_term(a.name),is_root:!0,langs:b});var d="./ontology/"+B.get_ontology_id()+":"+B.get_ontology_label();a.id,G.get_ontology_term(a.name),G.get_ontology_term_language(a.name);$("#term_info_name").attr("href",d),$("#ontology_tree, #ontology_info").removeClass("disabled")}),$("#contents").addClass("coloured grey lighten-5").find(".container").append($("<div>",{class:"row"}).append($("<div>",{class:"col s12 m6 l5"}).append($("<h6>").text("Traits, methods and scales")).append($("<div>",{id:"ontology_tree",class:"card z-depth-0 disabled"}).append($("<nav>").append($("<div>",{class:"languages_refresh left"}).append($("<select>",{name:"language"}))).append($("<ul>",{class:"right"}).append($("<li>").append($("<a>",{href:"#download_ontology_modal",class:"modal-trigger"}).append($("<span>",{class:"picol_arrow_full_down"})).append(" Download"))))).append($("<div>",{id:"treeview_container",class:"card-content"}).append($("<ul>",{id:"treeview",class:"treeview"}))))).append($("<div>",{class:"col s12 m6 l7"}).append($("<h6>").text("Term information")).append($("<div>",{id:"ontology_info",class:"disabled"}).append($("<div>",{class:"card z-depth-1 browser-content browser"}).append($("<nav>",{class:"nav-extended"}).append($("<div>",{class:"nav-content"}).append($("<ul>",{class:"tabs"}).append($("<li>",{id:"general",class:"tab"}).append($("<a>",(b={href:"#page_info",class:"active"},e(b,"class","tooltipped"),e(b,"data-tooltip","General"),e(b,"data-position","top"),b)).append($("<span>",{class:"hide-on-large-only fa fa-info-circle"})).append($("<span>",{class:"hide-on-med-and-down text"}).text("General")))).append($("<li>",{id:"variables",class:"tab disabled"}).append($("<a>",{href:"#item_variables",class:"tooltipped","data-tooltip":"Variables","data-position":"top"}).append($("<span>",{class:"hide-on-large-only fa fa-code-branch"})).append($("<span>",{class:"hide-on-med-and-down text"}).text("Variables")))).append($("<li>",{id:"new-comments",class:"tab"}).append($("<a>",{href:"#page_comments",class:"tooltipped","data-tooltip":"Comments","data-position":"top"}).append($("<span>",{class:"hide-on-large-only fa fa-comments"})).append($("<span>",{class:"hide-on-med-and-down text"}).text("Comments")))))).append($("<div>",{class:"filterbar nav-wrapper"}).append($("<ul>",{class:"filters left"}).append($("<span>",{class:"fa fa-link grey-text"})).append($("<li>",{"data-filter":"read"}).append($("<a>",{href:"javascript:;",id:"term_info_name",class:"tooltipped","data-tooltip":"<center>Permalink<br /><small>Click to refresh this page</small></center>"}).html($("<span>",{class:"getting_data"}).text("Getting data..."))))))).append($("<div>",{id:"pages"}).append($("<div>",{id:"page_info",class:"card-content"})).append($("<div>",{id:"item_variables",class:"card-content"})).append($("<div>",{id:"page_comments",class:"card-content"}).append($("<ul>",{id:"comments",class:"collection"}).hide()).append($("<div>",{id:"comment_form"}).append(function(){return A.get_user_logged()?$("<form>",{method:"post",action:"http://www.cropontology.org/add-comment"}).append($("<div>",{class:"row"}).append($("<input>",{type:"hidden",name:"termId"}).val("terms"==K?B.get_term_id():"")).append($("<input>",{type:"hidden",name:"ontologyId"}).val(B.get_ontology_id())).append($("<div>",{class:"input-field col s12"}).append($("<textarea>",{name:"comment",class:"materialize-textarea",id:"comment_input"})).append($("<label>",{for:"comment_input"}).text("Add a comment"))).append($("<input>",{type:"submit",class:"btn btn-flat btn-highlight waves-effect waves-light right"}).val("Comment"))):$("<center>").append($("<i>").append("Please ").append($("<a>",{href:"#user_modal",class:"modal-trigger"}).text("login")).append(" to comment"))}))))).append($("<div>",{id:"graph",class:"card disabled"}).append($("<div>",{id:"graph_content",class:"valign-wrapper"}).append($("<h1>").append($("<span>",{class:"fab fa-hubspot fa-3x"})))))))),$("#contents").prepend(H.create({type:"progress"}));break;case"annotation-tool":a("./content_layouts/annotation_tool.es6")}}},{key:"build_footer",value:function(){L.general.footer.visible&&$("body").append($("<footer>",{class:"parallax-container"}).append($("<div>",{class:"parallax"}).append($("<img>",{src:"common/media/img/"+L.general.footer.background}))).append($("<div>",{class:"row"}).append($("<div>",{class:"col s12 m12 l3 xl2"}).append($("<a>",{href:"./",class:"brand-logo"}).append($("<img>",{class:"responsive-img",src:"common/media/img/"+L.general.footer.logo}))).append($("<p>",{class:"description"}).html(L.general.footer.description))).append($("<div>",{id:"left_menu",class:"col s12 m4 l2 offset-l1 offset-xl1"})).append($("<div>",{id:"center_menu",class:"col s12 m4 l3"})).append($("<div>",{id:"right_menu",class:"col s12 m4 l3 offset-xl1"})))).append($("<section>",{id:"bottom_links"}).append($("<div>",{class:"row container"}).append($("<div>",{id:"",class:"col s12 m12 l8 xl8 left"})).append($("<div>",{id:"owner",class:"col s12 m12 l4 xl4 right right-align"})))).append($("<center>",{class:"license"}).append($("<p>").html(L.general.license.text))),this.build_menu("footer_menu"),this.build_menu("bottom_links")}},{key:"load_scripts",value:function(){switch(K){case"add-ontology":$("head").append("\x3c!-- Main style --\x3e").append($("<link>",{rel:"stylesheet",href:"dist/css/jquery.treeview.css",type:"text/css",media:"screen"}));break;case"ontology":case"terms":$("head").append("\x3c!-- Main style --\x3e").append($("<link>",{rel:"stylesheet",href:"dist/css/jquery.treeview.css",type:"text/css",media:"screen"})),$("#scripts").append("\x3c!-- Fullscreen feature --\x3e").append($("<script>",{type:"text/javascript",src:"bower_components/jq-fullscreen/release/jquery.fullscreen.min.js"})).append("\x3c!--  The Raphael JavaScript library for vector graphics display  --\x3e").append($("<script>",{type:"text/javascript",src:"dist/js/raphael-min.js"})).append("\x3c!--  Dracula  --\x3e").append("\x3c!--  An extension of Raphael for connecting shapes --\x3e").append($("<script>",{type:"text/javascript",src:"dist/js/dracula_graffle.js"})).append("\x3c!--  Graphs  --\x3e").append($("<script>",{type:"text/javascript",src:"dist/js/dracula_graph.js"})).append($("<script>",{type:"text/javascript",src:"dist/js/dracula_algorithms.js"}));break;case"annotation-tool":$("head").append("\x3c!-- Materialize Stepper --\x3e").append($("<link>",{rel:"stylesheet",href:"dist/css/mstepper.css",type:"text/css",media:"screen"})),$("#scripts").append("\x3c!-- Materialize Stepper --\x3e").append($("<script>",{type:"text/javascript",src:"dist/js/mstepper.min.js"})).append("\x3c!-- SheetJS/js-xlsx --\x3e").append($("<script>",{type:"text/javascript",src:"bower_components/js-xlsx/dist/xlsx.core.min.js"})).append($("<script>",{type:"text/javascript",src:"bower_components/js-xlsx/dist/cpexcel.js"})).append($("<script>",{type:"text/javascript",src:"bower_components/js-xlsx/dist/ods.js"})).append("\x3c!-- nodeca/mimoza --\x3e").append($("<script>",{type:"text/javascript",src:"bower_components/mimoza/dist/mimoza.min.js"})).append("\x3c!-- mholt/PapaParse --\x3e").append($("<script>",{type:"text/javascript",src:"bower_components/papaparse/papaparse.min.js"})).append("\x3c!-- Fullscreen feature --\x3e").append($("<script>",{type:"text/javascript",src:"bower_components/jq-fullscreen/release/jquery.fullscreen.min.js"}));break;case"register":$("#scripts").append("\x3c!-- jquery-validation --\x3e").append($("<script>",{type:"text/javascript",src:"bower_components/jquery-validation/dist/jquery.validate.min.js"})).append("\x3c!-- Google reCAPTCHA --\x3e").append($("<script>",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js"}))}}}]),b}();c.default=N},{"../../common/settings/contents.json":1,"../../common/settings/languages.json":2,"../../common/settings/menu.json":3,"../../src/es6/_navigation.es6":9,"../../src/es6/_str.es6":11,"../../src/es6/_treeview.es6":12,"../../src/es6/data.es6":14,"../../src/es6/filters.es6":15,"../../src/es6/loader.es6":17,"../../src/es6/modals.es6":18,"../../src/es6/pages/annotation_tool.es6":19,"../../src/es6/pagination.es6":20,"./content_layouts/annotation_tool.es6":13,moment:6}],17:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"create",value:function(a){var b={type:"progress",determinate:!1,size:"",colour:"grey",target:""},c=$.extend({},b,a);switch(c.type){case"progress":$(c.target+" .progress").length>0?this.show(c.target+" .progress"):$(c.target).prepend($("<div>",{class:"progress"}).append($("<div>",{class:c.determinate?"determinate":"indeterminate",style:""!==c.size?"width: "+c.size+"%":""})));break;case"circular":$(c.target+" .preloader-wrapper").length>0?this.show(c.target+" .preloader-wrapper"):$(c.target).prepend($("<div>",{class:"preloader-wrapper "+c.size+" active"}).append($("<div>",{class:"spinner-layer spinner-"+c.colour+"-only"}).append($("<div>",{class:"circle-clipper left"}).append($("<div>",{class:"circle"}))).append($("<div>",{class:"gap-patch"}).append($("<div>",{class:"circle"}))).append($("<div>",{class:"circle-clipper right"}).append($("<div>",{class:"circle"})))))}}},{key:"show",value:function(a){$(a).animate({opacity:1})}},{key:"hide",value:function(a,b){b=void 0!=b&&b,$(a).animate({opacity:0},300,function(){b&&$(a).remove()})}}]),a}();c.default=f},{}],18:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("../../src/es6/_navigation.es6"),h=d(g),i=a("../../src/es6/_str.es6"),j=d(i),k=a("../../src/es6/data.es6"),l=d(k),m=new h.default,n=new j.default,o=new l.default,p=function(){function a(){e(this,a)}return f(a,[{key:"build_modal",value:function(a){var b={id:"modal",class:"",title:"Modal Header",subtitle:"",content:"Modal Content",display_buttons:!0,close_button:!1,ok_button:"Ok",cancel_button:"Cancel",ok_action:function(){return!1},cancel_action:function(){return!1},fixed_footer:!0,bottom_sheet:!1,size:"medium"},c=$.extend({},b,a);$("body").prepend($("<div>",{id:c.id,class:"modal "+c.class+" "+c.size+" "+(c.fixed_footer?" modal-fixed-footer":"")+(c.bottom_sheet?" bottom-sheet":"")}).append($("<div>",{class:"modal-content"}).append(function(){if(c.close_button)return $("<a>",{href:"javascript:;",class:"modal-action modal-close btn btn-mini right"}).append($("<span>",{class:"fa fa-times"}))}).append($("<h4>").html(c.title)).append(function(){if(c.subtitle)return $("<h5>").html(c.subtitle)}).append(c.content)).append(function(){if(c.display_buttons)return $("<div>",{class:"modal-footer"}).append($("<a>",{href:"javascript:;",class:"modal-action modal-close waves-effect waves-green btn-flat left"}).text(c.cancel_button).click(function(){c.cancel_action()})).append($("<a>",{href:"javascript:;",class:"modal-action waves-effect waves-green btn-flat right"}).text(c.ok_button).click(function(){c.ok_action()}))}))}},{key:"confirm",value:function(a){this.build_modal({id:"confirm_modal",size:"small",title:a.title,content:a.content,fixed_footer:!1,bottom_sheet:!1,ok_action:a.ok_action})}},{key:"add_filter_row",value:function(a){var b={id:"",name:"",placeholder:""},c=$.extend({},b,a);return $("<div>",{class:"row filter"}).append($("<div>",{class:"input-field col s2"}).append($("<p>").append($("<input>",{type:"checkbox",class:"filled-in",id:c.id})).append($("<label>",{for:c.id}).text(c.label)))).append($("<div>",{class:"input-field col s4"}).append($("<input>",{type:"text",name:c.name,placeholder:c.placeholder,disabled:!0})))}},{key:"filters_modal",value:function(){var a=$("<div>",{class:"row"}).append($("<form>",{class:"col s12"}).append(this.add_filter_row({id:"user_check",name:"user",label:"Users:",placeholder:"Type a username, name or last name..."})).append(this.add_filter_row({id:"type_check",name:"type",label:"Type:",placeholder:"Ontology type..."})));this.build_modal({id:"searchbar_filters",title:"Filters",content:a,fixed_footer:!1}),function(){$(".filter").each(function(a,b){var c=$(b).find("input[type='checkbox']"),d=$(b).find("input[type='text']");c.on("change",function(){c.is(":checked")?d.attr("disabled",!1).focus():d.attr("disabled",!0)})})}()}},{key:"user_modal",value:function(a){var b=$("<div>",{class:""}).append($("<form>",{class:"col s12"}).append($("<div>",{class:"row"}).append($("<div>",{class:"input-field col s10 offset-s1"}).append($("<input>",{type:"text",name:"username",id:"log_username"})).append($("<label>",{for:"log_username"}).text("Username"))).append($("<div>",{class:"input-field col s10 offset-s1"}).append($("<input>",{type:"password",name:"password",id:"log_password"})).append($("<label>",{for:"log_password"}).text("Password")))).append($("<div>",{class:"row"}).append($("<div>",{class:"col s10 offset-s1"}).append($("<a>",{href:"./forgot-password"}).text("Forgot Password?"))))).append($("<div>",{id:"login_error",class:"card red white-text center-align"}));this.build_modal({id:"user_modal",size:"small",title:a,content:b,fixed_footer:!1,bottom_sheet:!1,ok_action:function(){o.log_user(b.find("form").serialize()).then(function(a){void 0!==a.error?$("#login_error").html(n.ucfirst(n.readable_data(a.error))):location.reload()},function(a){return $("#login_error").html(a),!1})}})}},{key:"download_ontology_modal",value:function(){var a=$("<div>",{class:""}).append($("<div>",{class:"row"}).append($("<div>",{class:"col s3 m3 l3 xl3"}).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/report?ontology_id="+m.get_ontology_id(),class:"center dowload-item",download:m.get_ontology_id()+".csv"}).append($("<h4>").append($("<span>",{class:"picol_document_text"}))).append($("<h6>").text("Trait dictionary")))).append($("<div>",{class:"col s3 m3 l3 xl3"}).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/rdf/"+m.get_ontology_id()+(void 0!==m.get_term_id()?":"+m.get_term_id():"")+"/"+m.get_ontology_label(),class:"center dowload-item",download:m.get_ontology_id()+".nt"}).append($("<h4>").append($("<span>",{class:"picol_rdf"}))).append($("<h6>").text("RDF")))).append($("<div>",{class:"col s3 m3 l3 xl3"}).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/ontology/"+m.get_ontology_id()+"/"+m.get_ontology_label()+"/nt",class:"center dowload-item",download:m.get_ontology_id()+".nt"}).append($("<h4>").append($("<span>",{class:"picol_rdf_document"}))).append($("<h6>").text("RDF N-Triples")))).append($("<div>",{class:"col s3 m3 l3 xl3"}).append($("<a>",{target:"_blank",href:"https://www.cropontology.org/obo/"+m.get_ontology_id(),class:"center dowload-item",download:m.get_ontology_id()+".obo"}).append($("<h4>").append($("<span>",{class:"picol_owl_lite_document"}))).append($("<h6>").text("OBO File")))));this.build_modal({id:"download_ontology_modal",size:"small",class:"centered",title:"Download",subtitle:"<tt>"+m.get_ontology_id()+(void 0!==m.get_term_id()?"<small>:"+m.get_term_id()+"</small>":"")+"</tt> &rsaquo; "+(void 0!==m.get_term_label()?m.get_term_label():m.get_ontology_label()),content:a,fixed_footer:!1,bottom_sheet:!1,display_buttons:!1,close_button:!0})}}]),a}();c.default=p},{"../../src/es6/_navigation.es6":9,"../../src/es6/_str.es6":11,"../../src/es6/data.es6":14}],19:[function(a,b,c){"use strict";"strict mode";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../data.es6"),i=d(h),j=a("../../../src/es6/_str.es6"),k=d(j),l=a("../../../src/es6/loader.es6"),m=d(l),n=new i.default,o=new k.default,p=new m.default,q=function(){function a(){e(this,a)}return g(a,[{key:"assign_events",value:function(){var a=this;n.get_ontologies().then(function(b){$("#crop").append($("<option>",{value:"All Crops"}).text("Filter by crop")),$.each(b[0].ontologies,function(a,b){$("#crop").append($("<option>",{value:b.ontology_id}).text(b.ontology_name))}),$("#crop").on("change",function(b){a.set_ontology($(b.target).val())}).material_select(),$("#continue_btn, #step2").on("click",function(){a.generate($("#clipboard").val(),$("#first_line").val(),$("#columns").val())})})}},{key:"parse_clipboard",value:function(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;d++){var e=b[d];if(e){var f=e.split("\t");c.push(f)}}return c}},{key:"display_parsed_clipboard",value:function(a,b,c){var d=$("#result"),e=$("<table>",{class:"bordered highlight",id:"newspaper-b"}),f=$("<thead>"),g=$("<tbody>"),h=$("<tfoot>"),i=$("<tr>"),j=$("<tr>");c&&(i.prepend($("<th>",{class:"empty"})),$.each(c.split("\t"),function(a,b){i.append($("<th>").text(b))}),f.append(i),h.append(i.clone())),b&&(j.prepend($("<th>",{class:"empty"})),$.each(b.split("\t"),function(a,b){j.append($("<th>").text(b))}),g.prepend(j)),$.each(a,function(a,c){var d=$("<tr>");a%2?d.addClass("odd"):d.addClass("even"),d.prepend($("<th>",{class:"empty"}).text(a+1)),$.each(c,function(a,c){b.split("\t");d.append($("<td>",{class:"cell_data button-collapse "+(!c||o.is_term_id(c)||o.is_date(c)||o.check_regex(c,/^[\d]{1,3}$/)?"disabled":""),"data-activates":"annotation_tool_data","data-item":o.is_term_id(c)}).append(function(){return o.is_term_id(c)?$("<div>").append($("<a>",{href:"./terms/"+c,target:"_blank"}).text(c)).append("&nbsp;&nbsp;").html():o.check_regex(c,/^[\d]{1,3}$/)?$("<center>").text(c):c}).click(function(a){!c||o.is_term_id(c)||o.is_date(c)||o.check_regex(c,/^[\d]{1,3}$/)||(p.create({type:"circular",size:"small",target:"#step_loader"}),$("#step_loader").css("visibility","visible").animate({opacity:"1"},300),n.search(c.replace(/[^\w\d\s]+/g,"")).then(function(a){a.length>0&&($("#annotation_tool_data").html($("<li>").append($("<div>",{class:"user-view"}).append($("<div>",{class:"subheader"}).text('Search results for "'+c+'"')))).append($("<li>").append($("<div>",{class:"divider"}))),$.each(a,function(a,b){$("#annotation_tool_data").append($("<li>").append($("<a>",{class:"waves-effect local truncate",href:"javascript:;","data-tooltip":"See details"}).text(b.ontology_name+" - "+o.get_ontology_term(b.name)).click(function(a){return a.preventDefault(),0==$(a.target).closest("li").last().find("dl").length&&n.get_ontology_attributes(b.id).then(function(b){$(a.target).closest("li").last().append($("<dl>").append($.map(b,function(a,b){return $("<div>").append($("<dt>").text(o.ucfirst(b)+":")).append($("<dd>").text(a)).html()}))),$(a.target).closest("li").last().find("dl").slideDown()}),$(a.target).closest("li").last().find("dl").slideToggle(),!1}).tooltip({delay:0,position:"top"})).append($("<a>",{class:"waves-effect tooltipped link",href:"./terms/"+b.id+":"+o.get_ontology_term(b.name),"data-tooltip":"Go to term page"}).append($("<span>",{class:"fa fa-chevron-right"})).tooltip({delay:0,position:"left"})))}),$.fullscreen.exit(),$("#annotation_tool_sidenav_btn").sideNav("show")),$("#step_loader").animate({opacity:"0"},300,function(){$("#step_loader").css("visibility","hidden")})}))}))}),g.append(d)}),e.append(f),e.append(g),e.append(h),d.prepend(e)}},{key:"xw",value:function(a,b){var c=new Worker(XW.worker);c.onmessage=function(a){switch(a.data.t){case"ready":break;case"e":console.error(a.data.d);break;case XW.msg:b(JSON.parse(a.data.d))}},c.postMessage({d:a,b:rABS?"binary":"array"})}},{key:"process_file",value:function(a){var b=XLSX,c={msg:"xlsx",worker:"./xlsxworker.js"},d=function(){return Mimoza.getExtension(a[0].type)},e=function(a){var c={};return $.each(a.SheetNames,function(d,e){var f=b.utils.sheet_to_json(a.Sheets[e],{header:1,range:0,defval:""});f.length&&(c[e]={columns:Object.keys(a.Sheets[e]),rows:f})}),JSON.stringify(c,2,2)},f=function(a){return Papa.parse(a)},g=function(a){var b=JSON.parse(e(a)),c=[],d="",f="",g="";return $.each(b,function(a,e){if(b.hasOwnProperty("Template for submission")){if("Template for submission"==a)return $.each(e.columns,function(a,b){null!==b.match(/[a-zA-Z]+([1])$/)&&c.push(b.replace(/\d/,""))}),d=c.filter(function(a,b,c){return b===c.indexOf(a)}).join("\t"),$.each(e.rows,function(a,b){var c=[],d=[];$.each(b,function(a,b){b=b?$.trim(b):"",d.push(a),c.push(b)}),$("#first_line_contains_titles").is(":checked")?0==a?f=c.join("\t")+"\n":g+=c.join("\t")+"\n":(f=d.join("\t")+"\n",g+=c.join("\t")+"\n")}),!1}else $.each(e.rows,function(a,b){var c=b.map(function(a,b){return""==$.trim(a)?"":$.trim(a)});g+=c.join("\t")+"\n"})}),{first_line:f,columns:d,clipboard:g}},h=function(a){var b=void 0;if("string"==typeof a&&".txt"==d())$("#columns").val(""),$("#clipboard").val(a);else if(".csv"==d()){var c=f(a),e=$("#first_line_contains_titles").is(":checked");b=c.data.map(function(a,b){return e?0!=b?a.join("\t"):void $("#first_line").val(a.join("\t")):a.join("\t")}),e&&b.shift(),b=b.join("\n"),$("#clipboard").val(b)}else b=g(a),$("#columns").val(b.columns),$("#first_line").val(b.first_line),$("#clipboard").val(b.clipboard);$("#step2 .step-title, #continue_btn").removeClass("disabled"),$("#continue_btn").click(),$("#drop_area").fadeOut()};console.info("Parsing file...",a[0].name),$("#drop_area").attr("data-content","Parsing\n"+a[0].name+"...");var i="undefined"!=typeof FileReader&&(FileReader.prototype||{}).readAsBinaryString,j="undefined"!=typeof Worker,k=function(a,b){var d=new Worker(c.worker);d.onmessage=function(a){switch(a.data.t){case"ready":break;case"e":console.error(a.data.d);break;case c.msg:b(JSON.parse(a.data.d))}},d.postMessage({d:a,b:i?"binary":"array"})};i=!0,j=!1;var l=a[0],m=new FileReader;m.onload=function(c){var d=c.target.result;i||(d=new Uint8Array(d)),Mimoza.isText(a[0].type)?h(d):j?k(d,h):h(b.read(d,{type:i?"binary":"array"}))},i?m.readAsBinaryString(l):m.readAsArrayBuffer(l)}},{key:"generate",value:function(a,b,c){if(a&&"string"==typeof a){var d=this.parse_clipboard(a);this.display_parsed_clipboard(d,b,c)}else a&&(void 0===a||f(a))}},{key:"loadOntologies",value:function(a){var b=this;a||$.getJSON("/get-categories",function(c){for(var d=0;d<c.length;d++)!function(a){var d=$("<ul>").append($("<h5>").text(c[a]));$(className+" .cats").append(d),$.getJSON("/ontologies",{category:c[a]},function(a){$.each(a,function(){d.append($("<li>").append($("<a>",{href:"javascript:;"}).text(b.ontology_name)))})})}(d);a=!0})}}]),a}();c.default=q},{"../../../src/es6/_str.es6":11,"../../../src/es6/loader.es6":17,"../data.es6":14}],20:[function(a,b,c){"use strict";"strict mode";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../../src/es6/_str.es6"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=(new g.default,function(){function a(){d(this,a)}return e(a,[{key:"build_pagination",value:function(a){for(var b=this,c={id:"",context_class:"group",content:"",items:"",current_page:1,total_pages:1},d=$.extend({},c,a),e=(d.current_page<=1||d.current_page,d.current_page>=d.total_pages?d.total_pages:d.current_page,$("<ul>",{id:d.id,class:d.context_class+" pagination center","data-current_page":d.current_page,"data-total_pages":d.total_pages})),f=$("<li>",{class:"prev_page_btn",disabled:!0}).append($("<a>",{href:"javascript:;"}).append($("<span>",{class:"fa fa-chevron-left"}))).click(function(a){b.goto(a,d.context_class,"prev",d.content,d.items)}),g=$("<li>",{class:"next_page_btn"}).append($("<a>",{href:"javascript:;"}).append($("<span>",{class:"fa fa-chevron-right"}))).click(function(a){b.goto(a,d.context_class,"next",d.content,d.items)}),h=1;h<=d.total_pages;h++)!function(a){var c=a==d.current_page?"waves-effect active":"waves-effect",h=d.current_page<=1?"disabled":"",i=d.current_page>=d.total_pages?"disabled":"";f.addClass(h),g.addClass(i),e.append($("<li>",{class:c+" page_"+a}).append($("<a>",{href:"javascript:;"}).text(a).click(function(c){b.goto(c,d.context_class,a,d.content,d.items)})))}(h);return e.prepend(f).append(g)}},{key:"goto",value:function(a,b,c,d,e){if(!$(a.target).closest("li").attr("disabled")){var f=parseInt($("."+b).data("current_page")),g=parseInt($("."+b).data("total_pages")),h=f<=1?1:f-1,i=f>=g?g:f+1;switch($("."+b).find("li.active").removeClass("active"),$("#"+b+" "+e).addClass("hide"),c){case"prev":$("."+b).find("li.page_"+h).addClass("active"),$("."+b).data("current_page",h),f=h;break;case"next":$("."+b).find("li.page_"+i).addClass("active"),$("."+b).data("current_page",i),f=i;break;default:$("."+b).find("li.page_"+c).addClass("active"),$("."+b).data("current_page",c),f=c}$(d+" "+e+".page_"+f).removeClass("hide"),$("#page_no").length>0&&$("#page_no").text(f),f>1?$(".prev_page_btn").removeClass("disabled").attr("disabled",!1):$(".prev_page_btn").addClass("disabled").attr("disabled",!0),f<g?$(".next_page_btn").removeClass("disabled").attr("disabled",!1):$(".next_page_btn").addClass("disabled").attr("disabled",!0)}}}]),a}());c.default=h},{"../../src/es6/_str.es6":11}]},{},[4]);